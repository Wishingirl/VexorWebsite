{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\TableBody.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\TableBody.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBmaXNoQ2hlY2tib3ggZnJvbSAnLi9DaGVja2JveC52dWUnCmltcG9ydCBDb250ZW50UmVuZGVyIGZyb20gJy4vQ29udGVudFJlbmRlci52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29udGVudFJlbmRlciwKICAgIGZpc2hDaGVja2JveH0sCiAgbmFtZTogJ2Zpc2gtdGFibGUtYm9keScsCiAgcHJvcHM6IHsKICAgIGNvbHVtbnM6IHsgdHlwZTogQXJyYXksIHJlcXVpcmVkOiB0cnVlIH0sCiAgICByb3dzOiB7IHR5cGU6IEFycmF5LCByZXF1aXJlZDogdHJ1ZSB9LAogICAgZXhwYW5kSWNvbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdmYSBmYS1hbmdsZS1yaWdodCcgfSwKICAgIGV4cGFuZGVkUm93UmVuZGVyOiB7IHR5cGU6IEZ1bmN0aW9uLCBkZWZhdWx0OiB1bmRlZmluZWQgfSwgLy8g5rKh5pyJZml4ZWTliJfvvIzmlrnlj6/lsZXlvIDor6bmg4UKICAgIHNjcm9sbFk6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSwKICAgIGNvdW50aW5nOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sIC8vIOaYr+WQpuaciee7n+iuoeihjAogICAgbm9Nb3JlVGV4dDogeyB0eXBlOiBTdHJpbmcgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBleHBhbmRzOiBbXQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHJvd3MgKG5WYWwsIG9WYWwpIHsKICAgICAgdGhpcy5leHBhbmRzID0gblZhbC5tYXAoKHJvdykgPT4gZmFsc2UpCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBpdGVtVmFsdWUgKGl0ZW0sIHsga2V5IH0pIHsKICAgICAgbGV0IHYgPSBpdGVtCiAgICAgIGZvciAoY29uc3QgayBvZiBrZXkuc3BsaXQoJyMnKSkgewogICAgICAgIGlmICh2W2tdKSB2ID0gdltrXQogICAgICAgIGVsc2UgcmV0dXJuICcnCiAgICAgIH0KICAgICAgcmV0dXJuIHYKICAgIH0sCiAgICB0ckNsaWNrIChpdGVtLCBySW5kZXgpIHsKICAgICAgaWYgKHRoaXMuaGFzQ291bnRpbmcockluZGV4KSkgcmV0dXJuCiAgICAgIHRoaXMuJGVtaXQoJ3RyLWNsaWNrJywgaXRlbSwgckluZGV4KQogICAgfSwKICAgIGNoZWNrYm94U2VsZWN0SGFuZGxlciAoZXZ0KSB7CiAgICAgIHRoaXMuJGVtaXQoJ3NlbGVjdCcsIGV2dCwgdGhpcykKICAgIH0sCiAgICBleHBhbmRIYW5kbGVyIChyb3dJbmRleCkgewogICAgICB0aGlzLmV4cGFuZHMuc3BsaWNlKHJvd0luZGV4LCAxLCAhdGhpcy5leHBhbmRzW3Jvd0luZGV4XSkKICAgIH0sCiAgICBoYXNDb3VudGluZyAockluZGV4KSB7CiAgICAgIHJldHVybiB0aGlzLmNvdW50aW5nID09PSB0cnVlICYmIHJJbmRleCA9PT0gMAogICAgfQogIH0KfQo="},{"version":3,"sources":["TableBody.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TableBody.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <table>\n    <colgroup>\n      <col v-if=\"rows.length > 0 && expandedRowRender\" width=\"40\"/>\n      <col v-for=\"column in columns\" :width=\"column.width\" :key=\"column.key\"/>\n    </colgroup>\n    <tbody>\n    <template v-for=\"(item, rowIndex) in rows\">\n      <tr :key=\"rowIndex\" @click=\"trClick(item, rowIndex)\" :class=\"hasCounting(rowIndex) ? 'count' : ''\">\n        <td v-if=\"expandedRowRender\" style=\"text-align: center;\"><i :class=\"expandIcon\" @click.stop=\"expandHandler(rowIndex)\"></i></td>\n        <td v-for=\"column in columns\" :style=\"{'text-align': column.align || 'left'}\" :key=\"column.key\">\n          <div v-if=\"'index' === column.type\">{{ hasCounting(rowIndex) ? '' : (rowIndex + 1) }}</div>\n          <div v-else-if=\"'checkbox' === column.type\">\n            <fish-checkbox :index=\"rowIndex\" @click=\"checkboxSelectHandler\" ref=\"checkboxes\" v-if=\"!hasCounting(rowIndex)\"></fish-checkbox>\n          </div>\n          <content-render :render=\"column.render || ((h, item, column, rowIndex) => h('div', itemValue(item, column)))\" :params=\"[item, column, rowIndex]\" v-else></content-render>\n        </td>\n      </tr>\n      <tr :key=\"rowIndex\" v-if=\"expandedRowRender && expands[rowIndex]\">\n        <td :colspan=\"columns.length + 1\">\n          <content-render :render=\"expandedRowRender\" :params=\"[item]\"></content-render>\n        </td>\n      </tr>\n    </template>\n    <tr v-if=\"rows.length <= 0 && noMoreText\">\n      <td class=\"no-more\" :colspan=\"columns.length\">{{ noMoreText }}</td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n<script>\n  import fishCheckbox from './Checkbox.vue'\n  import ContentRender from './ContentRender.vue'\n\n  export default {\n    components: {\n      ContentRender,\n      fishCheckbox},\n    name: 'fish-table-body',\n    props: {\n      columns: { type: Array, required: true },\n      rows: { type: Array, required: true },\n      expandIcon: { type: String, default: 'fa fa-angle-right' },\n      expandedRowRender: { type: Function, default: undefined }, // 没有fixed列，方可展开详情\n      scrollY: { type: Boolean, default: false },\n      counting: { type: Boolean, default: false }, // 是否有统计行\n      noMoreText: { type: String }\n    },\n    data () {\n      return {\n        expands: []\n      }\n    },\n    watch: {\n      rows (nVal, oVal) {\n        this.expands = nVal.map((row) => false)\n      }\n    },\n    methods: {\n      itemValue (item, { key }) {\n        let v = item\n        for (const k of key.split('#')) {\n          if (v[k]) v = v[k]\n          else return ''\n        }\n        return v\n      },\n      trClick (item, rIndex) {\n        if (this.hasCounting(rIndex)) return\n        this.$emit('tr-click', item, rIndex)\n      },\n      checkboxSelectHandler (evt) {\n        this.$emit('select', evt, this)\n      },\n      expandHandler (rowIndex) {\n        this.expands.splice(rowIndex, 1, !this.expands[rowIndex])\n      },\n      hasCounting (rIndex) {\n        return this.counting === true && rIndex === 0\n      }\n    }\n  }\n</script>\n"]}]}