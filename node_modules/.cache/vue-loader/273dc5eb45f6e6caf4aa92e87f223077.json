{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Cascader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Cascader.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjbGlja291dHNpZGUgZnJvbSAnLi4vZGlyZWN0aXZlcy9jbGlja291dHNpZGUnCmltcG9ydCB7IG5vdGlmeSB9IGZyb20gJy4uL2NvbmZpZycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmaXNoLWNhc2NhZGVyJywKICBkaXJlY3RpdmVzOiB7IGNsaWNrb3V0c2lkZSB9LAogIHByb3BzOiB7CiAgICB2YWx1ZTogQXJyYXksCiAgICB0ZXh0RGVsaW1pdGVyOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJyAvICcgfSwKICAgIG1lbnVXaWR0aDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDE2MCB9LAogICAgaGludDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdQbGVhc2Ugc2VsZWN0JyB9LAogICAgb3B0aW9uczogeyB0eXBlOiBBcnJheSwgcmVxdWlyZWQ6IHRydWUgfSAvLyBbW2tleSwgbGFiZWwsIGNoaWxkcmVuXV0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0NsZWFyOiBmYWxzZSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIGdyb3VwczogW3RoaXMub3B0aW9uc10sCiAgICAgIHNlbGVjdGVkSXRlbXM6IFtdLAogICAgICBzZWxlY3RlZFRleHQ6ICcnCiAgICB9CiAgfSwKICBtb3VudGVkICgpIHsKICAgIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IHRoaXMucGFyc2VTZWxlY3RlZEl0ZW1zKCkKICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gdGhpcy5zZWxlY3RlZEl0ZW1zLm1hcCgoZWxlKSA9PiBlbGVbMV0pLmpvaW4odGhpcy50ZXh0RGVsaW1pdGVyKQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbHVlRW1wdHkgKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZS5sZW5ndGggPT09IDAKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsZWFySGFuZGxlciAoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gbnVsbAogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBbXQogICAgICB0aGlzLmdyb3VwcyA9IFt0aGlzLm9wdGlvbnNdCiAgICAgIHRoaXMuZW1pdENoYW5nZShbXSkKICAgIH0sCiAgICBtb3VzZU92ZXJIYW5kbGVyICgpIHsKICAgICAgdGhpcy5zaG93Q2xlYXIgPSB0cnVlCiAgICB9LAogICAgbW91c2VPdXRIYW5kbGVyICgpIHsKICAgICAgdGhpcy5zaG93Q2xlYXIgPSBmYWxzZQogICAgfSwKICAgIG1lbnVDbGlja0hhbmRsZXIgKGV2dCkgewogICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlCiAgICB9LAogICAgYXdheUhhbmRsZXIgKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgfSwKICAgIGl0ZW1DbGlja0hhbmRsZXIgKGl0ZW0sIGdyb3VwSW5kZXgpIHsKICAgICAgbGV0IGNoaWxkcmVuID0gdGhpcy5pdGVtQ2hpbGRyZW4oaXRlbSkKICAgICAgbGV0IGhvd01hbnkgPSB0aGlzLnNlbGVjdGVkSXRlbXMubGVuZ3RoIC0gZ3JvdXBJbmRleAogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMuc3BsaWNlKGdyb3VwSW5kZXgsIGhvd01hbnksIGl0ZW0pCiAgICAgIC8vIGNvbnNvbGUubG9nKCdhZnRlcjonLCB0aGlzLnNlbGVjdGVkSXRlbXMpCiAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPiAwKSB7CiAgICAgICAgbGV0IGdyb3VwSG93TWFueSA9IHRoaXMuZ3JvdXBzLmxlbmd0aCAtIGdyb3VwSW5kZXgKICAgICAgICB0aGlzLmdyb3Vwcy5zcGxpY2UoZ3JvdXBJbmRleCArIDEsIGdyb3VwSG93TWFueSwgY2hpbGRyZW4pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hd2F5SGFuZGxlcigpCiAgICAgICAgdGhpcy5zZWxlY3RlZFRleHQgPSB0aGlzLnNlbGVjdGVkSXRlbXMubWFwKChlbGUpID0+IGVsZVsxXSkuam9pbih0aGlzLnRleHREZWxpbWl0ZXIpCiAgICAgICAgdGhpcy5lbWl0Q2hhbmdlKHRoaXMuc2VsZWN0ZWRJdGVtcy5tYXAoKGVsZSkgPT4gZWxlWzBdKSkKICAgICAgfQogICAgfSwKICAgIGVtaXRDaGFuZ2UgKHZhbHVlcykgewogICAgICB0aGlzLiRlbWl0KCdpbnB1dCcsIHZhbHVlcykKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWVzKQogICAgICBub3RpZnkuZmllbGQuY2hhbmdlKHRoaXMpCiAgICB9LAogICAgaXRlbUNoaWxkcmVuIChpdGVtKSB7CiAgICAgIGlmIChpdGVtLmxlbmd0aCA+IDIpIHsKICAgICAgICByZXR1cm4gaXRlbVtpdGVtLmxlbmd0aCAtIDFdCiAgICAgIH0KICAgICAgcmV0dXJuIFtdCiAgICB9LAogICAgcGFyc2VTZWxlY3RlZEl0ZW1zICgpIHsKICAgICAgLy8gY29uc29sZS5sb2coJz4+Pj46JywgdGhpcy52YWx1ZSkKICAgICAgbGV0IHJldCA9IFtdCiAgICAgIGlmICh0aGlzLnZhbHVlRW1wdHkpIHJldHVybiByZXQKICAgICAgbGV0IG9zID0gdGhpcy5vcHRpb25zCiAgICAgIGxldCB2SW5kZXggPSAwCiAgICAgIHdoaWxlIChvcyAmJiBvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yIChsZXQgZWxlIGluIG9zKSB7CiAgICAgICAgICBpZiAodGhpcy52YWx1ZVt2SW5kZXhdID09PSBlbGVbMF0pIHsKICAgICAgICAgICAgcmV0LnB1c2goZWxlKQogICAgICAgICAgICBvcyA9IHRoaXMuaXRlbUNoaWxkcmVuKGVsZSkKICAgICAgICAgICAgYnJlYWsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdkluZGV4KysKICAgICAgICBpZiAodkluZGV4ID4gMTApIHJldHVybiBbXQogICAgICB9CiAgICAgIHJldHVybiByZXQKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Cascader.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cascader.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <div :class=\"['fish select cascader', {'active': visible}]\"\n       @click=\"menuClickHandler($event)\"\n       @mouseover=\"mouseOverHandler\"\n       @mouseout=\"mouseOutHandler\"\n       v-clickoutside=\"awayHandler\">\n    <i class=\"fa fa-times-circle\" v-if=\"showClear && !valueEmpty\" style=\"opacity: .6;\" @click.stop=\"clearHandler\"></i>\n    <i class=\"fa fa-angle-down\" v-else></i>\n    <div :class=\"['text', {'hint': valueEmpty}]\">\n      {{ selectedText || hint }}\n    </div>\n    <div v-show=\"visible\" class=\"content\" :style=\"{width: `${(menuWidth + 2) * groups.length + 15 * groups.length}px`}\"\n         @click.stop=\"\" @mouseover.stop=\"\" @mouseout.stop=\"\">\n      <ul class=\"fish menu vertical\" v-for=\"(group, groupIndex) in groups\">\n        <li :class=\"['item', {'active': selectedItems[groupIndex] && selectedItems[groupIndex][0] === item[0], 'submenu': itemChildren(item).length > 0}]\"\n            v-for=\"(item, index) in group\" @click.stop=\"itemClickHandler(item, groupIndex)\" :key=\"item[0]\" :style=\"{width: `${menuWidth}px`}\">\n          {{ item[1] }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\n  import clickoutside from '../directives/clickoutside'\n  import { notify } from '../config'\n  export default {\n    name: 'fish-cascader',\n    directives: { clickoutside },\n    props: {\n      value: Array,\n      textDelimiter: { type: String, default: ' / ' },\n      menuWidth: { type: Number, default: 160 },\n      hint: { type: String, default: 'Please select' },\n      options: { type: Array, required: true } // [[key, label, children]]\n    },\n    data () {\n      return {\n        showClear: false,\n        visible: false,\n        groups: [this.options],\n        selectedItems: [],\n        selectedText: ''\n      }\n    },\n    mounted () {\n      this.selectedItems = this.parseSelectedItems()\n      this.selectedText = this.selectedItems.map((ele) => ele[1]).join(this.textDelimiter)\n    },\n    computed: {\n      valueEmpty () {\n        return this.value.length === 0\n      }\n    },\n    methods: {\n      clearHandler () {\n        this.selectedText = null\n        this.selectedItems = []\n        this.groups = [this.options]\n        this.emitChange([])\n      },\n      mouseOverHandler () {\n        this.showClear = true\n      },\n      mouseOutHandler () {\n        this.showClear = false\n      },\n      menuClickHandler (evt) {\n        this.visible = !this.visible\n      },\n      awayHandler () {\n        this.visible = false\n      },\n      itemClickHandler (item, groupIndex) {\n        let children = this.itemChildren(item)\n        let howMany = this.selectedItems.length - groupIndex\n        this.selectedItems.splice(groupIndex, howMany, item)\n        // console.log('after:', this.selectedItems)\n        if (children.length > 0) {\n          let groupHowMany = this.groups.length - groupIndex\n          this.groups.splice(groupIndex + 1, groupHowMany, children)\n        } else {\n          this.awayHandler()\n          this.selectedText = this.selectedItems.map((ele) => ele[1]).join(this.textDelimiter)\n          this.emitChange(this.selectedItems.map((ele) => ele[0]))\n        }\n      },\n      emitChange (values) {\n        this.$emit('input', values)\n        this.$emit('change', values)\n        notify.field.change(this)\n      },\n      itemChildren (item) {\n        if (item.length > 2) {\n          return item[item.length - 1]\n        }\n        return []\n      },\n      parseSelectedItems () {\n        // console.log('>>>>:', this.value)\n        let ret = []\n        if (this.valueEmpty) return ret\n        let os = this.options\n        let vIndex = 0\n        while (os && os.length > 0) {\n          for (let ele in os) {\n            if (this.value[vIndex] === ele[0]) {\n              ret.push(ele)\n              os = this.itemChildren(ele)\n              break\n            }\n          }\n          vIndex++\n          if (vIndex > 10) return []\n        }\n        return ret\n      }\n    }\n  }\n</script>\n"]}]}