{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Pagination.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Pagination.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlzaC1wYWdpbmF0aW9uJywKICBwcm9wczogewogICAgdG90YWw6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LAogICAgY3VycmVudDogeyB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLCBkZWZhdWx0OiAxIH0sCiAgICByb3dzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMTAgfSwKICAgIHNpbXBsZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgbm9Nb3JlVGV4dDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdObyBtb3JlIGRhdGEuLi4nIH0sCiAgICBwcmV2UmVuZGVyOiB7IHR5cGU6IEZ1bmN0aW9uLCBkZWZhdWx0OiAoKSA9PiAnPGkgY2xhc3M9ImZhIGZhLWFuZ2xlLWxlZnQiIHN0eWxlPSJtYXJnaW4tcmlnaHQ6MDsgd2lkdGg6IGF1dG87Ij48L2k+JyB9LAogICAgbmV4dFJlbmRlcjogeyB0eXBlOiBGdW5jdGlvbiwgZGVmYXVsdDogKCkgPT4gJzxpIGNsYXNzPSJmYSBmYS1hbmdsZS1yaWdodCIgc3R5bGU9Im1hcmdpbi1yaWdodDowOyB3aWR0aDogYXV0bzsiPjwvaT4nIH0sCiAgICB0b3RhbFJlbmRlcjogeyB0eXBlOiBGdW5jdGlvbiwgZGVmYXVsdDogKHRvdGFsLCByYW5nZSkgPT4gYCR7cmFuZ2VbMF19LSR7cmFuZ2VbMV19IC8gJHt0b3RhbH1gIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYWdlcyAoKSB7CiAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy50b3RhbCAvIHRoaXMucm93cykKICAgIH0sCiAgICBjdXJyZW50SW50ICgpIHsKICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuY3VycmVudCArICcnKQogICAgfQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgdG9QYWdlSGFuZGxlciAodikgewogICAgICBpZiAoL15ccyokLy50ZXN0KHYpKSB7CiAgICAgICAgdGhpcy5jbGlja0hhbmRsZXIodGhpcy5jdXJyZW50SW50KQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuY2xpY2tIYW5kbGVyKHBhcnNlSW50KHYpKQogICAgICB9CiAgICB9LAogICAgaW5wdXRIYW5kbGVyIChldnQpIHsKICAgICAgY29uc3QgdiA9IGV2dC50YXJnZXQudmFsdWUKICAgICAgaWYgKC9eXHMqJC8udGVzdCh2KSkgewogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIGlmICgvKF5cZCskKS8udGVzdCh2KSAmJiBwYXJzZUludCh2KSA+PSAxICYmIHBhcnNlSW50KHYpIDw9IHRoaXMucGFnZXMpIHsKICAgICAgICByZXR1cm4KICAgICAgfSBlbHNlIHsKICAgICAgICBldnQudGFyZ2V0LnZhbHVlID0gdGhpcy5jdXJyZW50SW50CiAgICAgIH0KICAgIH0sCiAgICBjbGlja0hhbmRsZXIgKGluZGV4KSB7CiAgICAgIGlmIChpbmRleCAhPT0gdGhpcy5jdXJyZW50SW50KSB7CiAgICAgICAgLy8gdGhpcy5jdXJyZW50ID0gaW5kZXgKICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCBpbmRleCkKICAgICAgfQogICAgfSwKICAgIGZpcnN0SGFuZGxlciAoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbnQgPiAxKSB7CiAgICAgICAgLy8gdGhpcy5jdXJyZW50ID0gMQogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIDEpCiAgICAgIH0KICAgIH0sCiAgICBsYXN0SGFuZGxlciAoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbnQgPCB0aGlzLnBhZ2VzKSB7CiAgICAgICAgLy8gdGhpcy5jdXJyZW50ID0gdGhpcy5wYWdlcwogICAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIHRoaXMucGFnZXMpCiAgICAgIH0KICAgIH0sCiAgICBwcmV2SGFuZGxlciAoKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRJbnQgPiAxKSB7CiAgICAgICAgLy8gdGhpcy5jdXJyZW50LS0KICAgICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB0aGlzLmN1cnJlbnRJbnQgLSAxKQogICAgICB9CiAgICB9LAogICAgbmV4dEhhbmRsZXIgKCkgewogICAgICBpZiAodGhpcy5jdXJyZW50SW50IDwgdGhpcy5wYWdlcykgewogICAgICAgIC8vIHRoaXMuY3VycmVudCsrCiAgICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdGhpcy5jdXJyZW50SW50ICsgMSkKICAgICAgfQogICAgfSwKICAgIGluRml2ZSAoaW5kZXgpIHsKICAgICAgaWYgKGluZGV4ID4gMSAmJiBpbmRleCA8IHRoaXMucGFnZXMpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnQpCiAgICAgICAgbGV0IGJlZm9yZSA9IHRoaXMuY3VycmVudEludCAtIDIKICAgICAgICBsZXQgYWZ0ZXIgPSB0aGlzLmN1cnJlbnRJbnQgKyAyCiAgICAgICAgaWYgKGJlZm9yZSA8PSAwKSBhZnRlciAtPSAoYmVmb3JlIC0gMSkKICAgICAgICBpZiAoYWZ0ZXIgPj0gdGhpcy5wYWdlcykgewogICAgICAgICAgYmVmb3JlIC09IGFmdGVyIC0gdGhpcy5wYWdlcwogICAgICAgICAgYWZ0ZXIgPSBpbmRleAogICAgICAgIH0KICAgICAgICAvLyBjb25zb2xlLmxvZyhiZWZvcmUsICc6OicsIGFmdGVyKQogICAgICAgIGlmIChiZWZvcmUgPD0gaW5kZXggJiYgYWZ0ZXIgPj0gaW5kZXgpIHJldHVybiB0cnVlCiAgICAgICAgcmV0dXJuIGZhbHNlCiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Pagination.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Pagination.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <ul class=\"fish pagination\" v-if=\"total > 0\">\n    <li class=\"item total\" v-html=\"totalRender(total, [(currentInt - 1) * rows + 1, currentInt * rows])\"></li>\n    <li :class=\"['item', {'disabled': currentInt <= 1}]\" @click.stop.prevent=\"prevHandler\" v-html=\"prevRender()\"></li>\n    <template v-if=\"simple\">\n      <li class=\"item\">\n        <input type=\"text\" :value=\"current\" @keydown.enter=\"toPageHandler($event.target.value)\" @input=\"inputHandler($event)\"/>\n      </li>\n    </template>\n    <template v-else>\n      <li :class=\"['item', { 'active': currentInt === 1 }]\" @click.stop.prevent=\"firstHandler\">1</li>\n      <li class=\"item disabled\" v-if=\"pages > 5 && currentInt > 3\">...</li>\n      <template v-for=\"i in pages\">\n        <li :class=\"['item', { 'active': currentInt == i }]\" @click.stop.prevent=\"clickHandler(i)\" v-if=\"inFive(i)\" :key=\"i\">{{ i }}</li>\n      </template>\n      <li class=\"item disabled\" v-if=\"pages > 5 && (pages - currentInt) > 3\">...</li>\n      <li :class=\"['item', { 'active': currentInt === pages }]\" @click.stop.prevent=\"lastHandler\" v-if=\"pages > 1\">{{ pages }}</li>\n    </template>\n    <li :class=\"['item', {'disabled': currentInt >= pages}]\" @click.stop.prevent=\"nextHandler\" v-html=\"nextRender()\"></li>\n  </ul>\n</template>\n<script>\n  export default {\n    name: 'fish-pagination',\n    props: {\n      total: { type: Number, required: true },\n      current: { type: [Number, String], default: 1 },\n      rows: { type: Number, default: 10 },\n      simple: { type: Boolean, default: false },\n      noMoreText: { type: String, default: 'No more data...' },\n      prevRender: { type: Function, default: () => '<i class=\"fa fa-angle-left\" style=\"margin-right:0; width: auto;\"></i>' },\n      nextRender: { type: Function, default: () => '<i class=\"fa fa-angle-right\" style=\"margin-right:0; width: auto;\"></i>' },\n      totalRender: { type: Function, default: (total, range) => `${range[0]}-${range[1]} / ${total}` }\n    },\n    computed: {\n      pages () {\n        return Math.ceil(this.total / this.rows)\n      },\n      currentInt () {\n        return parseInt(this.current + '')\n      }\n    },\n    data () {\n      return {\n      }\n    },\n    methods: {\n      toPageHandler (v) {\n        if (/^\\s*$/.test(v)) {\n          this.clickHandler(this.currentInt)\n        } else {\n          this.clickHandler(parseInt(v))\n        }\n      },\n      inputHandler (evt) {\n        const v = evt.target.value\n        if (/^\\s*$/.test(v)) {\n          return\n        }\n        if (/(^\\d+$)/.test(v) && parseInt(v) >= 1 && parseInt(v) <= this.pages) {\n          return\n        } else {\n          evt.target.value = this.currentInt\n        }\n      },\n      clickHandler (index) {\n        if (index !== this.currentInt) {\n          // this.current = index\n          this.$emit('change', index)\n        }\n      },\n      firstHandler () {\n        if (this.currentInt > 1) {\n          // this.current = 1\n          this.$emit('change', 1)\n        }\n      },\n      lastHandler () {\n        if (this.currentInt < this.pages) {\n          // this.current = this.pages\n          this.$emit('change', this.pages)\n        }\n      },\n      prevHandler () {\n        if (this.currentInt > 1) {\n          // this.current--\n          this.$emit('change', this.currentInt - 1)\n        }\n      },\n      nextHandler () {\n        if (this.currentInt < this.pages) {\n          // this.current++\n          this.$emit('change', this.currentInt + 1)\n        }\n      },\n      inFive (index) {\n        if (index > 1 && index < this.pages) {\n          // console.log(this.current)\n          let before = this.currentInt - 2\n          let after = this.currentInt + 2\n          if (before <= 0) after -= (before - 1)\n          if (after >= this.pages) {\n            before -= after - this.pages\n            after = index\n          }\n          // console.log(before, '::', after)\n          if (before <= index && after >= index) return true\n          return false\n        }\n        return false\n      }\n    }\n  }\n</script>\n"]}]}