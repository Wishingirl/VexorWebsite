{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Modal.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlzaC1tb2RhbCcsCiAgcHJvcHM6IHsKICAgIHRpdGxlOiB7IHR5cGU6IFN0cmluZyB9LAogICAgYXR0YWNoZWQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnY2VudGVyJyB9LAogICAgcGFkZGluZzogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcxZW0nIH0sCiAgICB2aXNpYmxlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgICBtYXJnaW5Ub3A6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnMTAwcHgnIH0sCiAgICB3aWR0aDogeyB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLCBkZWZhdWx0OiA4NTAgfSwKICAgIGhlaWdodDogeyB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLCBkZWZhdWx0OiA1MDAgfSwKICAgIHRyaWdnZXJFdmVudDogeyB0eXBlOiBFdmVudCwgZGVmYXVsdDogbnVsbCB9IC8vIOinpuWPkeeahOS6i+S7tuWvueixoQogIH0sCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBsZWZ0OiAnNTAlJywKICAgICAgdG9wOiAnMHB4JywKICAgICAgbWFyZ2luTGVmdDogdGhpcy53aWR0aCAvIDIsCiAgICAgIG1hcmdpblRvcFY6IHRoaXMubWFyZ2luVG9wCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgbXN0eWxlICgpIHsKICAgICAgY29uc3QgeyBhdHRhY2hlZCwgd2lkdGgsIGhlaWdodCB9ID0gdGhpcwogICAgICBpZiAoYXR0YWNoZWQgPT09ICdjZW50ZXInKSB7CiAgICAgICAgY29uc3QgeyBsZWZ0LCB0b3AgfSA9IHRoaXMKICAgICAgICByZXR1cm4gewogICAgICAgICAgJ21hcmdpbi10b3AnOiB0aGlzLm1hcmdpblRvcFYsCiAgICAgICAgICAnd2lkdGgnOiBgJHt0aGlzLndpZHRofXB4YCwKICAgICAgICAgICdtYXJnaW4tbGVmdCc6IGAtJHt0aGlzLm1hcmdpbkxlZnR9cHhgLAogICAgICAgICAgbGVmdCwKICAgICAgICAgIHRvcAogICAgICAgIH0KICAgICAgfSBlbHNlIGlmIChhdHRhY2hlZCA9PT0gJ2xlZnQnIHx8IGF0dGFjaGVkID09PSAncmlnaHQnKSB7CiAgICAgICAgcmV0dXJuIHsgd2lkdGggfQogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiB7IGhlaWdodCB9CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB0cmlnZ2VyRXZlbnQgKG5vd1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmICh0aGlzLmF0dGFjaGVkID09PSAnY2VudGVyJykgewogICAgICAgIGlmIChub3dWYWwgIT0gbnVsbCkgewogICAgICAgICAgdGhpcy5jYWxMZWZ0VG9wKG5vd1ZhbCkKICAgICAgICAgIHRoaXMubWFyZ2luTGVmdCA9IDAKICAgICAgICAgIHRoaXMubWFyZ2luVG9wViA9ICcwcHgnCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubGVmdCA9ICc1MCUnCiAgICAgICAgICB0aGlzLnRvcCA9ICcwcHgnCiAgICAgICAgICB0aGlzLm1hcmdpbkxlZnQgPSB0aGlzLndpZHRoIC8gMgogICAgICAgICAgdGhpcy5tYXJnaW5Ub3BWID0gdGhpcy5tYXJnaW5Ub3AKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlSGFuZGxlciAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTp2aXNpYmxlJywgZmFsc2UpCiAgICB9LAogICAgY2FsTGVmdFRvcCAoZXZlbnQpIHsKICAgICAgY29uc3QgeyB0YXJnZXQgfSA9IGV2ZW50CiAgICAgIGNvbnN0IHt3aWR0aCwgbGVmdCwgdG9wfSA9IGdldFRhcmdldE9mZnNldCh0YXJnZXQpCiAgICAgIHRoaXMubGVmdCA9IGAke2xlZnQgKyB3aWR0aCArIDEwfXB4YAogICAgICB0aGlzLnRvcCA9IGAke3RvcH1weGAKICAgIH0KICB9Cn0KCmNvbnN0IGdldFRhcmdldE9mZnNldCA9ICh0YXJnZXQpID0+IHsKICBsZXQgeyBvZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0LCBvZmZzZXRMZWZ0LCBvZmZzZXRUb3AgfSA9IHRhcmdldAogIGlmICh0YXJnZXQub2Zmc2V0UGFyZW50ICE9IG51bGwpIHsKICAgIGNvbnN0IHtsZWZ0LCB0b3B9ID0gZ2V0VGFyZ2V0T2Zmc2V0KHRhcmdldC5vZmZzZXRQYXJlbnQpCiAgICAvLyBvZmZzZXRIZWlnaHQgKz0gaGVpZ2h0CiAgICBvZmZzZXRMZWZ0ICs9IGxlZnQKICAgIG9mZnNldFRvcCArPSB0b3AKICAgIC8vIG9mZnNldFdpZHRoICs9IHdpZHRoCiAgfQogIHJldHVybiB7aGVpZ2h0OiBvZmZzZXRIZWlnaHQsIHdpZHRoOiBvZmZzZXRXaWR0aCwgbGVmdDogb2Zmc2V0TGVmdCwgdG9wOiBvZmZzZXRUb3B9Cn0K"},{"version":3,"sources":["Modal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Modal.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <div :class=\"['fish dimmer active']\" v-if=\"visible\" \n    :style=\"{position: 'fixed'}\">\n    <div :class=\"['fish modal', 'attached', attached]\" ref=\"modal\" \n      :style=\"mstyle\">\n      <i class=\"fa fa-times\" @click=\"closeHandler\"></i>\n      <div class=\"header\" v-if=\"title\">\n        {{ title }}\n      </div>\n      <div class=\"content\" :style=\"{padding: padding}\">\n        <slot></slot>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'fish-modal',\n    props: {\n      title: { type: String },\n      attached: { type: String, default: 'center' },\n      padding: { type: String, default: '1em' },\n      visible: { type: Boolean, default: false },\n      marginTop: { type: String, default: '100px' },\n      width: { type: [Number, String], default: 850 },\n      height: { type: [Number, String], default: 500 },\n      triggerEvent: { type: Event, default: null } // 触发的事件对象\n    },\n    data () {\n      return {\n        left: '50%',\n        top: '0px',\n        marginLeft: this.width / 2,\n        marginTopV: this.marginTop\n      }\n    },\n    computed: {\n      mstyle () {\n        const { attached, width, height } = this\n        if (attached === 'center') {\n          const { left, top } = this\n          return {\n            'margin-top': this.marginTopV,\n            'width': `${this.width}px`,\n            'margin-left': `-${this.marginLeft}px`,\n            left,\n            top\n          }\n        } else if (attached === 'left' || attached === 'right') {\n          return { width }\n        } else {\n          return { height }\n        }\n      }\n    },\n    watch: {\n      triggerEvent (nowVal, oldVal) {\n        if (this.attached === 'center') {\n          if (nowVal != null) {\n            this.calLeftTop(nowVal)\n            this.marginLeft = 0\n            this.marginTopV = '0px'\n          } else {\n            this.left = '50%'\n            this.top = '0px'\n            this.marginLeft = this.width / 2\n            this.marginTopV = this.marginTop\n          }\n        }\n      }\n    },\n    methods: {\n      closeHandler () {\n        this.$emit('update:visible', false)\n      },\n      calLeftTop (event) {\n        const { target } = event\n        const {width, left, top} = getTargetOffset(target)\n        this.left = `${left + width + 10}px`\n        this.top = `${top}px`\n      }\n    }\n  }\n\n  const getTargetOffset = (target) => {\n    let { offsetWidth, offsetHeight, offsetLeft, offsetTop } = target\n    if (target.offsetParent != null) {\n      const {left, top} = getTargetOffset(target.offsetParent)\n      // offsetHeight += height\n      offsetLeft += left\n      offsetTop += top\n      // offsetWidth += width\n    }\n    return {height: offsetHeight, width: offsetWidth, left: offsetLeft, top: offsetTop}\n  }\n</script>\n"]}]}