{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Select.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Select.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjbGlja291dHNpZGUgZnJvbSAnLi4vZGlyZWN0aXZlcy9jbGlja291dHNpZGUnCmltcG9ydCB7IG5vdGlmeSB9IGZyb20gJy4uL2NvbmZpZycKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmaXNoLXNlbGVjdCcsCiAgZGlyZWN0aXZlczogeyBjbGlja291dHNpZGUgfSwKICBwcm9wczogewogICAgdmFsdWU6IFtOdW1iZXIsIFN0cmluZywgQXJyYXldLAogICAgaGludDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sCiAgICBtdWx0aXBsZTogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgc2VhcmNoOiB7IHR5cGU6IFtCb29sZWFuLCBGdW5jdGlvbl0sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgICBkaXNhYmxlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgaWNvbkRvd25BcnJvdzogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdmYSBmYS1hbmdsZS1kb3duJyB9LAogICAgaWNvbkNsb3NlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2ZhIGZhLWNsb3NlJyB9LAogICAgaWNvbkNsb3NlQ2lyY2xlOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2ZhIGZhLXRpbWVzLWNpcmNsZScgfSwKICAgIGljb25TZWFyY2g6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnZmEgZmEtc2VhcmNoJyB9CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICBzZWxlY3RlZEh0bWw6IG51bGwsCiAgICAgIHNlbGVjdGVkSXRlbXM6IFtdLAogICAgICBzaG93VGV4dDogdHJ1ZSwKICAgICAgcmVSZW5kZXJDaGlsZHJlbjogZmFsc2UsCiAgICAgIHNob3dDbGVhcjogZmFsc2UsCiAgICAgIG11bHRpcGxlSW5wdXRXaWR0aDogMSwKICAgICAgZGlzcGxheUl0ZW1zOiBbXSwgLy8g5p+l6K+i5L2/55SoCiAgICAgIGtleUNoaWxkcmVuSW5kZXg6IC0xIC8vIOWtkOWFg+e0oOeahOe0ouW8lSzplK7nm5jkuIrkuIvmk43kvZwKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5pbml0RGF0YSgpCiAgfSwKICB3YXRjaDogewogICAgdmFsdWUgKG5vd1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChub3dWYWwgPT09ICcnIHx8IG5vd1ZhbCA9PT0gbnVsbCkgewogICAgICAgIGlmICghdGhpcy5zZWFyY2hJc0Z1bmN0aW9uKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBbXQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluaXREYXRhKCkKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHZhbHVlRW1wdHkgKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZXMubGVuZ3RoID09PSAwCiAgICB9LAogICAgY3VycmVudEl0ZW0gKCkgewogICAgICBpZiAodGhpcy5rZXlDaGlsZHJlbkluZGV4ID09PSAtMSkgewogICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlJdGVtc1swXQogICAgICB9CiAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlJdGVtc1t0aGlzLmtleUNoaWxkcmVuSW5kZXhdCiAgICB9LAogICAgc2VhcmNoSXNGdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0aGlzLnNlYXJjaCAmJiB0aGlzLnNlYXJjaCBpbnN0YW5jZW9mIEZ1bmN0aW9uCiAgICB9LAogICAgdmFsdWVzICgpIHsKICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy52YWx1ZSkgPyB0aGlzLnZhbHVlIDogKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZS50b1N0cmluZygpICE9PSAnJyA/IFt0aGlzLnZhbHVlXSA6IFtdKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaW5pdERhdGEgKCkgewogICAgICB0aGlzLnNlbGVjdGVkSXRlbXMgPSBbXQogICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChlbGUpID0+IHsKICAgICAgICBlbGUuJGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snCiAgICAgICAgaWYgKHRoaXMudmFsdWVzLmluY2x1ZGVzKGVsZS5pbmRleCkpIHsKICAgICAgICAgIGVsZS5hY3RpdmUgPSB0cnVlCiAgICAgICAgICB0aGlzLnNlbGVjdGVkSXRlbXMucHVzaChlbGUpCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsZS5hY3RpdmUgPSBmYWxzZQogICAgICAgIH0KICAgICAgfSkKICAgICAgdGhpcy5kaXNwbGF5SXRlbXMgPSB0aGlzLiRjaGlsZHJlbgogICAgfSwKICAgIHNlYXJjaElucHV0SGFuZGxlciAodikgewogICAgICBpZiAodGhpcy5zZWFyY2hJc0Z1bmN0aW9uKSB7CiAgICAgICAgdGhpcy5zZWFyY2godikKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICB0aGlzLmRpc3BsYXlJdGVtcyA9IHRoaXMuJGNoaWxkcmVuCiAgICAgICAgfSkKICAgICAgICAvLyByZXR1cm4KICAgICAgfQogICAgICBpZiAoIS9eXHMrJC8udGVzdCh2KSkgewogICAgICAgIHRoaXMuZGlzcGxheUl0ZW1zID0gW10KICAgICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChlbGUpID0+IHsKICAgICAgICAgIGlmIChlbGUuY29udGVudC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgodi50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgICBlbGUuJGVsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snCiAgICAgICAgICAgIHRoaXMuZGlzcGxheUl0ZW1zLnB1c2goZWxlKQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZWxlLiRlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICB0aGlzLmtleUNoaWxkcmVuSW5kZXggPSAtMQogICAgICAgIHRoaXMuc2hvd1RleHQgPSBmYWxzZQogICAgICAgIHRoaXMubXVsdGlwbGVJbnB1dFdpZHRoID0gdi5sZW5ndGggPiAwID8gdi5sZW5ndGggOiAxCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93VGV4dCA9IHRydWUKICAgICAgICB0aGlzLmRpc3BsYXlJdGVtcyA9IHRoaXMuJGNoaWxkcmVuCiAgICAgICAgdGhpcy5tdWx0aXBsZUlucHV0V2lkdGggPSAxCiAgICAgIH0KICAgIH0sCiAgICBrZXlVcEhhbmRsZXIgKCkgewogICAgICBsZXQgZExlbmd0aCA9IHRoaXMuZGlzcGxheUl0ZW1zLmxlbmd0aAogICAgICBpZiAoZExlbmd0aCA8PSAwKSByZXR1cm4KICAgICAgaWYgKCF0aGlzLnZhbHVlcy5pbmNsdWRlcyh0aGlzLmN1cnJlbnRJdGVtLmluZGV4KSkgewogICAgICAgIHRoaXMuY3VycmVudEl0ZW0uYWN0aXZlID0gZmFsc2UKICAgICAgfQogICAgICBpZiAodGhpcy5rZXlDaGlsZHJlbkluZGV4IDw9IDApIHsKICAgICAgICB0aGlzLmtleUNoaWxkcmVuSW5kZXggPSBkTGVuZ3RoIC0gMQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMua2V5Q2hpbGRyZW5JbmRleC0tCiAgICAgIH0KICAgICAgdGhpcy5jdXJyZW50SXRlbS5hY3RpdmUgPSB0cnVlCiAgICB9LAogICAga2V5RG93bkhhbmRsZXIgKCkgewogICAgICBsZXQgZExlbmd0aCA9IHRoaXMuZGlzcGxheUl0ZW1zLmxlbmd0aAogICAgICAvLyBjb25zb2xlLmxvZyhkTGVuZ3RoLCAnOjo6JywgdGhpcy5rZXlDaGlsZHJlbkluZGV4KQogICAgICBpZiAoZExlbmd0aCA8PSAwKSByZXR1cm4KICAgICAgaWYgKCF0aGlzLnZhbHVlcy5pbmNsdWRlcyh0aGlzLmN1cnJlbnRJdGVtLmluZGV4KSkgewogICAgICAgIHRoaXMuY3VycmVudEl0ZW0uYWN0aXZlID0gZmFsc2UKICAgICAgfQogICAgICBpZiAodGhpcy5rZXlDaGlsZHJlbkluZGV4ID49IGRMZW5ndGggLSAxKSB7CiAgICAgICAgdGhpcy5rZXlDaGlsZHJlbkluZGV4ID0gMAogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMua2V5Q2hpbGRyZW5JbmRleCsrCiAgICAgIH0KICAgICAgdGhpcy5jdXJyZW50SXRlbS5hY3RpdmUgPSB0cnVlCiAgICB9LAogICAga2V5RW50ZXJIYW5kbGVyICgpIHsKICAgICAgaWYgKHRoaXMuZGlzcGxheUl0ZW1zLmxlbmd0aCA8PSAwKSByZXR1cm4KICAgICAgaWYgKCF0aGlzLnZhbHVlcy5pbmNsdWRlcyh0aGlzLmN1cnJlbnRJdGVtLmluZGV4KSkgewogICAgICAgIHRoaXMuY3VycmVudEl0ZW0uYWN0aXZlID0gZmFsc2UKICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXIodGhpcy5jdXJyZW50SXRlbSkKICAgICAgfQogICAgICB0aGlzLmRpc3BsYXlJdGVtcyA9IHRoaXMuJGNoaWxkcmVuCiAgICAgIHRoaXMubXVsdGlwbGVJbnB1dFdpZHRoID0gMQogICAgICAvLyBpZiAodGhpcy5zZWFyY2gpIHRoaXMuJHJlZnMuaW5wdXRTZWFyY2guYmx1cigpCiAgICB9LAogICAgbW91c2VPdmVySGFuZGxlciAoKSB7CiAgICAgIHRoaXMuc2hvd0NsZWFyID0gdHJ1ZQogICAgfSwKICAgIG1vdXNlT3V0SGFuZGxlciAoKSB7CiAgICAgIHRoaXMuc2hvd0NsZWFyID0gZmFsc2UKICAgIH0sCiAgICBjbG9zZUl0ZW1IYW5kbGVyIChpbmRleCwgaXRlbSwgZXZ0KSB7IC8vIOmSiOWvueWkmumAiQogICAgICBsZXQgblZhbHVlID0gQXJyYXkuZnJvbSh0aGlzLnZhbHVlcykKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLnNwbGljZShpbmRleCwgMSkKICAgICAgdGhpcy4kY2hpbGRyZW4uZm9yRWFjaCgoZSkgPT4gewogICAgICAgIGlmIChlLmluZGV4ID09PSBpdGVtLmluZGV4KSB7CiAgICAgICAgICBlLmFjdGl2ZSA9IGZhbHNlCiAgICAgICAgfQogICAgICB9KQogICAgICB0aGlzLmVtaXRDaGFuZ2UoblZhbHVlLmZpbHRlcigoZWxlKSA9PiBlbGUgIT09IGl0ZW0uaW5kZXgpKQogICAgICB0aGlzLnJlc2V0VmFsdWVzKCkKICAgIH0sCiAgICBjbGVhckhhbmRsZXIgKCkgeyAvLyDpkojlr7nljZXpgIkKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gW10KICAgICAgdGhpcy5hd2F5SGFuZGxlcigpCiAgICAgIHRoaXMuZW1pdENoYW5nZShbXSkKICAgIH0sCiAgICBjbGlja0hhbmRsZXIgKCkgewogICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlCiAgICAgIGlmICh0aGlzLnNlYXJjaCkgdGhpcy4kcmVmcy5pbnB1dFNlYXJjaC5mb2N1cygpCiAgICB9LAogICAgbWVudUNsaWNrSGFuZGxlciAoZXZ0KSB7CiAgICAgIC8vIHRoaXMuc2VsZWN0ZWRJdGVtcy5wdXNoKGV2dC50YXJnZXQuX192dWVfXykKICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVyKGV2dC50YXJnZXQuX192dWVfXykKICAgIH0sCiAgICBjaGFuZ2VIYW5kbGVyICh2dCkgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm11bHRpcGxlLCAnOjonLCB2dC5pbmRleCkKICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZygndmFsdWU6JywgdGhpcy52YWx1ZSwgdnQuYWN0aXZlLCB0aGlzLnNlbGVjdGVkSXRlbXMpCiAgICAgICAgbGV0IG5WYWx1ZSA9IEFycmF5LmZyb20odGhpcy52YWx1ZXMpCiAgICAgICAgaWYgKHZ0LmFjdGl2ZSkgewogICAgICAgICAgdnQuYWN0aXZlID0gZmFsc2UKICAgICAgICAgIG5WYWx1ZSA9IG5WYWx1ZS5maWx0ZXIoKGVsZSkgPT4gZWxlICE9PSB2dC5pbmRleCkKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtcyA9IHRoaXMuc2VsZWN0ZWRJdGVtcy5maWx0ZXIoKGVsZSkgPT4gZWxlLmluZGV4ICE9PSB2dC5pbmRleCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdnQuYWN0aXZlID0gdHJ1ZQogICAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLnB1c2godnQpCiAgICAgICAgICBuVmFsdWUucHVzaCh2dC5pbmRleCkKICAgICAgICB9CiAgICAgICAgLy8gY29uc29sZS5sb2coJ3ZhbHVlOicsIHRoaXMudmFsdWUsIHZ0LmFjdGl2ZSwgdGhpcy5zZWxlY3RlZEl0ZW1zKQogICAgICAgIHRoaXMuZW1pdENoYW5nZShuVmFsdWUpCiAgICAgICAgdGhpcy5yZXNldFZhbHVlcygpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zLnNwbGljZSgwLCAxLCB2dCkKICAgICAgICB0aGlzLmVtaXRDaGFuZ2UoW3Z0LmluZGV4XSkKICAgICAgICB0aGlzLmF3YXlIYW5kbGVyKCkKICAgICAgfQogICAgfSwKICAgIGVtaXRDaGFuZ2UgKHZhbHVlcykgewogICAgICBsZXQgdiA9IHRoaXMubXVsdGlwbGUgPyB2YWx1ZXMgOiB2YWx1ZXNbMF0KICAgICAgdGhpcy4kZW1pdCgnaW5wdXQnLCB2KQogICAgICB0aGlzLiRlbWl0KCdjaGFuZ2UnLCB2KQogICAgICBub3RpZnkuZmllbGQuY2hhbmdlKHRoaXMpCiAgICB9LAogICAgYXdheUhhbmRsZXIgKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgICB0aGlzLnJlc2V0VmFsdWVzKCkKICAgIH0sCiAgICByZXNldFZhbHVlcyAoKSB7CiAgICAgIHRoaXMuc2hvd1RleHQgPSB0cnVlCiAgICAgIHRoaXMucmVSZW5kZXJDaGlsZHJlbiA9IHRydWUKICAgICAgdGhpcy5rZXlDaGlsZHJlbkluZGV4ID0gLTEKICAgICAgLy8g6YCJ5oup5LmL5ZCOY2xlYXIgaW5wdXQgc2VhcmNoCiAgICAgIGlmICh0aGlzLnNlYXJjaCkgewogICAgICAgIHRoaXMuJHJlZnMuaW5wdXRTZWFyY2gudmFsdWUgPSAnJwogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Select.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Select.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <div :class=\"['fish select', {'active': visible, 'multiple': multiple, 'disabled': disabled, 'search': search}]\"\n       @click=\"clickHandler\"\n       @mouseover=\"mouseOverHandler\"\n       @mouseout=\"mouseOutHandler\"\n       v-clickoutside=\"awayHandler\">\n    <template v-if=\"multiple\">\n      <i :class=\"iconDownArrow\" v-if=\"!searchIsFunction\"></i>\n      <i :class=\"iconSearch\" v-if=\"searchIsFunction\"></i>\n      <a class=\"tag\" @click.stop=\"() => {}\"\n         v-for=\"(item, index) in selectedItems\" :key=\"index\">\n        {{ item.content }}\n        <i :class=\"iconClose\" @click.stop=\"closeItemHandler(index, item, $event)\"></i>\n      </a>\n      <input autocomplete=\"off\" ref=\"inputSearch\" v-if=\"search\"\n             @input.stop=\"searchInputHandler($event.target.value)\"\n             @keyup.up.stop=\"keyUpHandler\"\n             @keyup.down.stop=\"keyDownHandler\"\n             @keyup.enter.stop=\"keyEnterHandler\"\n             @focus=\"visible = true\"\n             :style=\"{'width': `${multipleInputWidth}em`}\"\n             />\n      <div class=\"text hint\" v-html=\"hint\" :style=\"{visibility: valueEmpty && !visible ? 'visible' : 'hidden'}\" v-if=\"selectedItems.length <= 0\"></div>\n    </template>\n    <template v-else>\n      <i :class=\"iconCloseCircle\" v-if=\"showClear && !valueEmpty\" style=\"opacity: .6;\" @click.stop=\"clearHandler\"></i>\n      <i :class=\"iconDownArrow\" v-else-if=\"!searchIsFunction\"></i>\n      <i :class=\"iconSearch\" v-else-if=\"searchIsFunction\"></i>\n      <input autocomplete=\"off\" ref=\"inputSearch\" v-if=\"search\"\n             @input.stop=\"searchInputHandler($event.target.value)\"\n             @keyup.up.stop=\"keyUpHandler\"\n             @keyup.down.stop=\"keyDownHandler\"\n             @keyup.enter.stop=\"keyEnterHandler\"/>\n      <div :class=\"['text', {'hint': valueEmpty}]\" :style=\"{visibility: showText ? 'visible' : 'hidden'}\">\n        {{ selectedItems.length > 0 && selectedItems[0].content || hint }}\n      </div>\n    </template>\n    <ul class=\"fish menu vertical\" v-show=\"visible && $slots.default\"\n        @click.stop=\"menuClickHandler($event)\"\n        @mouseover.stop=\"() => {}\" @mouseout.stop=\"() => {}\">\n      <slot></slot>\n    </ul>\n  </div>\n</template>\n<script>\n  import clickoutside from '../directives/clickoutside'\n  import { notify } from '../config'\n  export default {\n    name: 'fish-select',\n    directives: { clickoutside },\n    props: {\n      value: [Number, String, Array],\n      hint: { type: String, default: '' },\n      multiple: { type: Boolean, default: false },\n      search: { type: [Boolean, Function], default: false },\n      disabled: { type: Boolean, default: false },\n      iconDownArrow: { type: String, default: 'fa fa-angle-down' },\n      iconClose: { type: String, default: 'fa fa-close' },\n      iconCloseCircle: { type: String, default: 'fa fa-times-circle' },\n      iconSearch: { type: String, default: 'fa fa-search' }\n    },\n    data () {\n      return {\n        visible: false,\n        selectedHtml: null,\n        selectedItems: [],\n        showText: true,\n        reRenderChildren: false,\n        showClear: false,\n        multipleInputWidth: 1,\n        displayItems: [], // 查询使用\n        keyChildrenIndex: -1 // 子元素的索引,键盘上下操作\n      }\n    },\n    mounted () {\n      this.initData()\n    },\n    watch: {\n      value (nowVal, oldVal) {\n        if (nowVal === '' || nowVal === null) {\n          if (!this.searchIsFunction) {\n            this.selectedItems = []\n          }\n        } else {\n          this.initData()\n        }\n      }\n    },\n    computed: {\n      valueEmpty () {\n        return this.values.length === 0\n      },\n      currentItem () {\n        if (this.keyChildrenIndex === -1) {\n          return this.displayItems[0]\n        }\n        return this.displayItems[this.keyChildrenIndex]\n      },\n      searchIsFunction () {\n        return this.search && this.search instanceof Function\n      },\n      values () {\n        return Array.isArray(this.value) ? this.value : (this.value && this.value.toString() !== '' ? [this.value] : [])\n      }\n    },\n    methods: {\n      initData () {\n        this.selectedItems = []\n        this.$children.forEach((ele) => {\n          ele.$el.style.display = 'block'\n          if (this.values.includes(ele.index)) {\n            ele.active = true\n            this.selectedItems.push(ele)\n          } else {\n            ele.active = false\n          }\n        })\n        this.displayItems = this.$children\n      },\n      searchInputHandler (v) {\n        if (this.searchIsFunction) {\n          this.search(v)\n          this.$nextTick(() => {\n            this.displayItems = this.$children\n          })\n          // return\n        }\n        if (!/^\\s+$/.test(v)) {\n          this.displayItems = []\n          this.$children.forEach((ele) => {\n            if (ele.content.toLowerCase().startsWith(v.toLowerCase())) {\n              ele.$el.style.display = 'block'\n              this.displayItems.push(ele)\n            } else {\n              ele.$el.style.display = 'none'\n            }\n          })\n          this.keyChildrenIndex = -1\n          this.showText = false\n          this.multipleInputWidth = v.length > 0 ? v.length : 1\n        } else {\n          this.showText = true\n          this.displayItems = this.$children\n          this.multipleInputWidth = 1\n        }\n      },\n      keyUpHandler () {\n        let dLength = this.displayItems.length\n        if (dLength <= 0) return\n        if (!this.values.includes(this.currentItem.index)) {\n          this.currentItem.active = false\n        }\n        if (this.keyChildrenIndex <= 0) {\n          this.keyChildrenIndex = dLength - 1\n        } else {\n          this.keyChildrenIndex--\n        }\n        this.currentItem.active = true\n      },\n      keyDownHandler () {\n        let dLength = this.displayItems.length\n        // console.log(dLength, ':::', this.keyChildrenIndex)\n        if (dLength <= 0) return\n        if (!this.values.includes(this.currentItem.index)) {\n          this.currentItem.active = false\n        }\n        if (this.keyChildrenIndex >= dLength - 1) {\n          this.keyChildrenIndex = 0\n        } else {\n          this.keyChildrenIndex++\n        }\n        this.currentItem.active = true\n      },\n      keyEnterHandler () {\n        if (this.displayItems.length <= 0) return\n        if (!this.values.includes(this.currentItem.index)) {\n          this.currentItem.active = false\n          this.changeHandler(this.currentItem)\n        }\n        this.displayItems = this.$children\n        this.multipleInputWidth = 1\n        // if (this.search) this.$refs.inputSearch.blur()\n      },\n      mouseOverHandler () {\n        this.showClear = true\n      },\n      mouseOutHandler () {\n        this.showClear = false\n      },\n      closeItemHandler (index, item, evt) { // 针对多选\n        let nValue = Array.from(this.values)\n        this.selectedItems.splice(index, 1)\n        this.$children.forEach((e) => {\n          if (e.index === item.index) {\n            e.active = false\n          }\n        })\n        this.emitChange(nValue.filter((ele) => ele !== item.index))\n        this.resetValues()\n      },\n      clearHandler () { // 针对单选\n        this.selectedItems = []\n        this.awayHandler()\n        this.emitChange([])\n      },\n      clickHandler () {\n        this.visible = !this.visible\n        if (this.search) this.$refs.inputSearch.focus()\n      },\n      menuClickHandler (evt) {\n        // this.selectedItems.push(evt.target.__vue__)\n        this.changeHandler(evt.target.__vue__)\n      },\n      changeHandler (vt) {\n        // console.log(this.multiple, '::', vt.index)\n        if (this.multiple) {\n          // console.log('value:', this.value, vt.active, this.selectedItems)\n          let nValue = Array.from(this.values)\n          if (vt.active) {\n            vt.active = false\n            nValue = nValue.filter((ele) => ele !== vt.index)\n            this.selectedItems = this.selectedItems.filter((ele) => ele.index !== vt.index)\n          } else {\n            vt.active = true\n            this.selectedItems.push(vt)\n            nValue.push(vt.index)\n          }\n          // console.log('value:', this.value, vt.active, this.selectedItems)\n          this.emitChange(nValue)\n          this.resetValues()\n        } else {\n          this.selectedItems.splice(0, 1, vt)\n          this.emitChange([vt.index])\n          this.awayHandler()\n        }\n      },\n      emitChange (values) {\n        let v = this.multiple ? values : values[0]\n        this.$emit('input', v)\n        this.$emit('change', v)\n        notify.field.change(this)\n      },\n      awayHandler () {\n        this.visible = false\n        this.resetValues()\n      },\n      resetValues () {\n        this.showText = true\n        this.reRenderChildren = true\n        this.keyChildrenIndex = -1\n        // 选择之后clear input search\n        if (this.search) {\n          this.$refs.inputSearch.value = ''\n        }\n      }\n    }\n  }\n</script>\n"]}]}