{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\InputNumber.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\InputNumber.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IG1heEludGVnZXIgPSAxMDAwMDAwMDAwMDAwLjAwCmltcG9ydCB7IG5vdGlmeSB9IGZyb20gJy4uL2NvbmZpZycKCmNvbnN0IGFkZCA9ICh2MSwgdjIpID0+IHsKICB2MSAqPSBtYXhJbnRlZ2VyCiAgdjIgKj0gbWF4SW50ZWdlcgogIHJldHVybiAoTWF0aC5yb3VuZCh2MSkgKyBNYXRoLnJvdW5kKHYyKSkgLyBtYXhJbnRlZ2VyCn0KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlzaC1pbnB1dC1udW1iZXInLAogIHByb3BzOiB7CiAgICB2YWx1ZTogeyB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLCBkZWZhdWx0OiAnJyB9LAogICAgbWluOiB7IHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sIGRlZmF1bHQ6IDAgfSwKICAgIG1heDogeyB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLCBkZWZhdWx0OiBtYXhJbnRlZ2VyIH0sCiAgICBzdGVwOiB7IHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sIGRlZmF1bHQ6IDEgfSwKICAgIGhpbnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LAogICAgc2l6ZTogeyB0eXBlOiBTdHJpbmcgfSwKICAgIGxhYmVsOiB7IHR5cGU6IFN0cmluZyB9LAogICAgbGFiZWxMZWZ0OiB7IHR5cGU6IFN0cmluZyB9LAogICAgZGlzYWJsZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSwKICAgIHRlc3RFeHByZXNzOiB7IHR5cGU6IFJlZ0V4cCwgZGVmYXVsdDogKCkgPT4gLyheXGQrJCl8KF5cZCsoXC5cZHswLDR9KT8kKS8gfQogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlVmFsdWUgKGV2dCkgewogICAgICBsZXQgdiA9IGV2dC50YXJnZXQudmFsdWUKICAgICAgaWYgKC9eXHMqJC8udGVzdCh2KSkgewogICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcignJykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBpZiAodGhpcy50ZXN0RXhwcmVzcy50ZXN0KHYpICYmIHBhcnNlRmxvYXQodikgPD0gcGFyc2VGbG9hdCh0aGlzLm1heCkgJiYgcGFyc2VGbG9hdCh2KSA+PSBwYXJzZUZsb2F0KHRoaXMubWluKSkgewogICAgICAgIHRoaXMuY2hhbmdlSGFuZGxlcih2LmluZGV4T2YoJy4nKSAhPT0gLTEgPyBwYXJzZUZsb2F0KHYpIDogcGFyc2VJbnQodikpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgZXZ0LnRhcmdldC52YWx1ZSA9IHRoaXMudmFsdWUKICAgICAgfQogICAgfSwKICAgIHVwSGFuZGxlciAoKSB7CiAgICAgIGxldCBudiA9IGFkZCh0aGlzLnZhbHVlLCB0aGlzLnN0ZXApCiAgICAgIGlmIChwYXJzZUZsb2F0KG52KSA8IHBhcnNlRmxvYXQodGhpcy5tYXgpKSB7CiAgICAgICAgdGhpcy5jaGFuZ2VIYW5kbGVyKG52KQogICAgICB9CiAgICB9LAogICAgZG93bkhhbmRsZXIgKCkgewogICAgICBsZXQgbnYgPSBhZGQodGhpcy52YWx1ZSwgLXRoaXMuc3RlcCkKICAgICAgaWYgKHBhcnNlRmxvYXQobnYpID4gcGFyc2VGbG9hdCh0aGlzLm1pbikpIHsKICAgICAgICB0aGlzLmNoYW5nZUhhbmRsZXIobnYpCiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VIYW5kbGVyICh2KSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdikKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdikKICAgICAgbm90aWZ5LmZpZWxkLmNoYW5nZSh0aGlzKQogICAgfQogIH0KfQo="},{"version":3,"sources":["InputNumber.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"InputNumber.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <div :class=\"['fish input number', {'disabled': disabled}]\">\n    <div class=\"label-left\" v-if=\"labelLeft\" v-html=\"labelLeft\"></div>\n    <div class=\"label-right\">\n      <div class=\"step\" ref=\"step\">\n        <i class=\"fa fa-angle-up\" @click.stop=\"upHandler\"></i>\n        <i class=\"fa fa-angle-down\" @click.stop=\"downHandler\"></i>\n      </div>\n      <label v-if=\"label\" ref=\"label\" v-html=\"label\"></label>\n    </div>\n    <input :placeholder=\"hint\"\n           autocomplete=\"off\"\n           :min=\"min\"\n           :max=\"max\"\n           :value=\"value\" @input=\"updateValue($event)\"/>\n  </div>\n</template>\n<script>\n  const maxInteger = 1000000000000.00\n  import { notify } from '../config'\n\n  const add = (v1, v2) => {\n    v1 *= maxInteger\n    v2 *= maxInteger\n    return (Math.round(v1) + Math.round(v2)) / maxInteger\n  }\n\n  export default {\n    name: 'fish-input-number',\n    props: {\n      value: { type: [Number, String], default: '' },\n      min: { type: [Number, String], default: 0 },\n      max: { type: [Number, String], default: maxInteger },\n      step: { type: [Number, String], default: 1 },\n      hint: { type: String, default: '' },\n      size: { type: String },\n      label: { type: String },\n      labelLeft: { type: String },\n      disabled: { type: Boolean, default: false },\n      testExpress: { type: RegExp, default: () => /(^\\d+$)|(^\\d+(\\.\\d{0,4})?$)/ }\n    },\n    methods: {\n      updateValue (evt) {\n        let v = evt.target.value\n        if (/^\\s*$/.test(v)) {\n          this.changeHandler('')\n          return\n        }\n        if (this.testExpress.test(v) && parseFloat(v) <= parseFloat(this.max) && parseFloat(v) >= parseFloat(this.min)) {\n          this.changeHandler(v.indexOf('.') !== -1 ? parseFloat(v) : parseInt(v))\n        } else {\n          evt.target.value = this.value\n        }\n      },\n      upHandler () {\n        let nv = add(this.value, this.step)\n        if (parseFloat(nv) < parseFloat(this.max)) {\n          this.changeHandler(nv)\n        }\n      },\n      downHandler () {\n        let nv = add(this.value, -this.step)\n        if (parseFloat(nv) > parseFloat(this.min)) {\n          this.changeHandler(nv)\n        }\n      },\n      changeHandler (v) {\n        this.$emit('input', v)\n        this.$emit('change', v)\n        notify.field.change(this)\n      }\n    }\n  }\n</script>\n"]}]}