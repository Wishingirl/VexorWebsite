{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Submenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Submenu.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjbGlja291dHNpZGUgZnJvbSAnLi4vZGlyZWN0aXZlcy9jbGlja291dHNpZGUnCmV4cG9ydCBkZWZhdWx0IHsKICBkaXJlY3RpdmVzOiB7IGNsaWNrb3V0c2lkZSB9LAogIG5hbWU6ICdmaXNoLXN1Ym1lbnUnLAogIHByb3BzOiB7CiAgICB0cmlnZ2VyOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJ2hvdmVyJyB9LAogICAgaW5kZXg6IHsgdHlwZTogU3RyaW5nIH0sCiAgICBpbmRleERlbGltaXRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICctJyB9LCAvLyBvcHRpb24gaW5kZXjlhoXlrrnnmoTliIbpmpTnrKYKICAgIG1vZGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAndmVydGljYWwnIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IHt9LAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgdGltZW91dDogbnVsbCwKICAgICAgYWN0aXZlOiBmYWxzZSAvLyDpkojlr7nmoLnoioLngrkgbGkKICAgIH0KICB9LAogIG1vdW50ZWQgKCkgewogICAgdGhpcy5pdGVtcyA9IHt9CiAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKChlbGUpID0+IHsKICAgICAgaWYgKGVsZS5faXNWdWUpIHRoaXMuaXRlbXNbZWxlLmluZGV4LnNwbGl0KHRoaXMuaW5kZXhEZWxpbWl0ZXIpLnBvcCgpXSA9IGVsZQogICAgfSkKICAgIC8vIOiuvue9rmNoaWxkcmVuIHBhZGRpbmcgbGVmdAogICAgaWYgKHRoaXMubW9kZSAhPT0gJ2lubGluZScpIHJldHVybgogICAgdGhpcy4kY2hpbGRyZW4uZm9yRWFjaCgoZWxlKSA9PiB7CiAgICAgIGlmIChlbGUuJGVsLmNsYXNzTmFtZS5pbmRleE9mKCdzdWJtZW51JykgPT09IC0xKSB7CiAgICAgICAgbGV0IGluZGV4ZXMgPSBlbGUuaW5kZXguc3BsaXQodGhpcy5pbmRleERlbGltaXRlcikKICAgICAgICBlbGUuJGVsLnN0eWxlLnBhZGRpbmdMZWZ0ID0gYCR7MC43NSAqIChpbmRleGVzLmxlbmd0aCl9ZW1gCiAgICAgIH0KICAgIH0pCiAgICAvLyBzZXQgc3VidGl0bGUgcGFkZGluZyBsZWZ0CiAgICBsZXQgaW5kZXhlcyA9IHRoaXMuaW5kZXhlcwogICAgdGhpcy4kcmVmcy5zdWJ0aXRsZS5zdHlsZS5wYWRkaW5nTGVmdCA9IGAkezAuNzUgKiAoaW5kZXhlcy5sZW5ndGgpfWVtYAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGluZGV4ZXMgKCkgewogICAgICByZXR1cm4gdGhpcy5pbmRleC5zcGxpdCh0aGlzLmluZGV4RGVsaW1pdGVyKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgbW91c2VPdmVySGFuZGxlciAoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCc6Ojo6JykKICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ2lubGluZScgJiYgdGhpcy50cmlnZ2VyID09PSAnaG92ZXInKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCkKICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWUKICAgICAgICB9LCAyNTApCiAgICAgIH0KICAgIH0sCiAgICBtb3VzZU91dEhhbmRsZXIgKCkgewogICAgICAvLyBjb25zb2xlLmxvZygnPj4+Pj4+Pj4+Pj4uJykKICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ2lubGluZScgJiYgdGhpcy50cmlnZ2VyID09PSAnaG92ZXInKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCkKICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlCiAgICAgICAgfSwgMTUwKQogICAgICB9CiAgICB9LAogICAgY2xpY2tIYW5kbGVyIChldnQpIHsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy50cmlnZ2VyLCAnOjo6JywgdGhpcy5tb2RlKQogICAgICBpZiAodGhpcy5tb2RlID09PSAnaW5saW5lJykgewogICAgICAgIGlmIChldnQudGFyZ2V0LnBhcmVudE5vZGUgPT09IHRoaXMuJHJlZnMuc3VibWVudSkgewogICAgICAgICAgdGhpcy52aXNpYmxlID0gIXRoaXMudmlzaWJsZQogICAgICAgICAgdGhpcy5hY3RpdmUgPSAhdGhpcy5hY3RpdmUKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy52aXNpYmxlID0gIXRoaXMudmlzaWJsZQogICAgICB9CiAgICB9LAogICAgYXdheUhhbmRsZXIgKCkgewogICAgICBpZiAodGhpcy5tb2RlICE9PSAnaW5saW5lJyAmJiB0aGlzLnRyaWdnZXIgPT09ICdjbGljaycpIHsKICAgICAgICB0aGlzLnZpc2libGUgPSBmYWxzZQogICAgICB9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Submenu.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Submenu.vue","sourceRoot":"node_modules/fish-ui/src/components","sourcesContent":["<template>\n  <li :class=\"['item submenu', {'active': this.active}]\"\n      @mouseover=\"mouseOverHandler\"\n      @mouseout=\"mouseOutHandler\"\n      @click=\"clickHandler\"\n      v-clickoutside=\"awayHandler\" ref=\"submenu\">\n    <div class=\"title\" ref=\"subtitle\"><slot name=\"title\"></slot></div>\n    <ul :class=\"['fish menu', this.mode]\" v-show=\"visible\"><slot></slot></ul>\n  </li>\n</template>\n<script>\n  import clickoutside from '../directives/clickoutside'\n  export default {\n    directives: { clickoutside },\n    name: 'fish-submenu',\n    props: {\n      trigger: { type: String, default: 'hover' },\n      index: { type: String },\n      indexDelimiter: { type: String, default: '-' }, // option index内容的分隔符\n      mode: { type: String, default: 'vertical' }\n    },\n    data () {\n      return {\n        items: {},\n        visible: false,\n        timeout: null,\n        active: false // 针对根节点 li\n      }\n    },\n    mounted () {\n      this.items = {}\n      this.$children.forEach((ele) => {\n        if (ele._isVue) this.items[ele.index.split(this.indexDelimiter).pop()] = ele\n      })\n      // 设置children padding left\n      if (this.mode !== 'inline') return\n      this.$children.forEach((ele) => {\n        if (ele.$el.className.indexOf('submenu') === -1) {\n          let indexes = ele.index.split(this.indexDelimiter)\n          ele.$el.style.paddingLeft = `${0.75 * (indexes.length)}em`\n        }\n      })\n      // set subtitle padding left\n      let indexes = this.indexes\n      this.$refs.subtitle.style.paddingLeft = `${0.75 * (indexes.length)}em`\n    },\n    computed: {\n      indexes () {\n        return this.index.split(this.indexDelimiter)\n      }\n    },\n    methods: {\n      mouseOverHandler () {\n        // console.log('::::')\n        if (this.mode !== 'inline' && this.trigger === 'hover') {\n          clearTimeout(this.timeout)\n          this.timeout = setTimeout(() => {\n            this.visible = true\n          }, 250)\n        }\n      },\n      mouseOutHandler () {\n        // console.log('>>>>>>>>>>>.')\n        if (this.mode !== 'inline' && this.trigger === 'hover') {\n          clearTimeout(this.timeout)\n          this.timeout = setTimeout(() => {\n            this.visible = false\n          }, 150)\n        }\n      },\n      clickHandler (evt) {\n        // console.log(this.trigger, ':::', this.mode)\n        if (this.mode === 'inline') {\n          if (evt.target.parentNode === this.$refs.submenu) {\n            this.visible = !this.visible\n            this.active = !this.active\n          }\n        } else {\n          this.visible = !this.visible\n        }\n      },\n      awayHandler () {\n        if (this.mode !== 'inline' && this.trigger === 'click') {\n          this.visible = false\n        }\n      }\n    }\n  }\n</script>\n"]}]}