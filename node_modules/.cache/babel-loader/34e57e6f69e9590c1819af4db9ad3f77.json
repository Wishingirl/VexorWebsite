{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Field.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Field.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5pcy1maW5pdGUiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiQzovVXNlcnMvdXNlci9EZXNrdG9wL3Z1ZS9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIHNwYW5XaWR0aCA9IDQuMTY2NjY7Cgp2YXIgbm9vcCA9IGZ1bmN0aW9uIG5vb3AoKSB7fTsKCmltcG9ydCBBc3luY1ZhbGlkYXRvciBmcm9tICdhc3luYy12YWxpZGF0b3InOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2Zpc2gtZmllbGQnLAogIHByb3BzOiB7CiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBsYWJlbFdpZHRoOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6ICdhdXRvJwogICAgfSwKICAgIGxhYmVsQWxpZ246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAncmlnaHQnCiAgICB9LAogICAgc3BhbjogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAwCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpbmxpbmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzaG93RXJyb3I6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIG5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9LAogICAgLy8g6ZyA5qCh6aqM55qE5a2X5q615ZCNCiAgICBydWxlczogewogICAgICB0eXBlOiBBcnJheQogICAgfSAvLyDpqozor4Hop4TliJkKCiAgfSwKICBjb21wdXRlZDogewogICAgbGFibGVTdHlsZTogZnVuY3Rpb24gbGFibGVTdHlsZSgpIHsKICAgICAgdmFyIGlubGluZSA9IHRoaXMuaW5saW5lLAogICAgICAgICAgbGFiZWxXaWR0aCA9IHRoaXMubGFiZWxXaWR0aCwKICAgICAgICAgIGxhYmVsQWxpZ24gPSB0aGlzLmxhYmVsQWxpZ247CiAgICAgIHZhciByZXQgPSB7fTsKCiAgICAgIGlmIChpbmxpbmUpIHsKICAgICAgICByZXRbJ3RleHQtYWxpZ24nXSA9IGxhYmVsQWxpZ247CgogICAgICAgIGlmIChsYWJlbFdpZHRoICE9PSAnYXV0bycpIHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxhYmVsV2lkdGgsIGxhYmVsV2lkdGggaW5zdGFuY2VvZiBOdW1iZXIpCiAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGxhYmVsV2lkdGgpKSB7CiAgICAgICAgICAgIHJldFsnd2lkdGgnXSA9ICIiLmNvbmNhdChsYWJlbFdpZHRoLCAiJSIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0Wyd3aWR0aCddID0gbGFiZWxXaWR0aDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXQ7CiAgICB9LAogICAgY29udGVudFdyYXBwZXJTdHlsZTogZnVuY3Rpb24gY29udGVudFdyYXBwZXJTdHlsZSgpIHsKICAgICAgdmFyIGlubGluZSA9IHRoaXMuaW5saW5lLAogICAgICAgICAgbGFiZWxXaWR0aCA9IHRoaXMubGFiZWxXaWR0aDsKICAgICAgdmFyIHJldCA9IHt9OwoKICAgICAgaWYgKGlubGluZSkgewogICAgICAgIGlmIChsYWJlbFdpZHRoICE9PSAnYXV0bycpIHsKICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUobGFiZWxXaWR0aCkpIHsKICAgICAgICAgICAgcmV0Wyd3aWR0aCddID0gIiIuY29uY2F0KDEwMCAtIGxhYmVsV2lkdGgsICIlIik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfSwKICAgIHN0eWxlT2JqZWN0OiBmdW5jdGlvbiBzdHlsZU9iamVjdCgpIHsKICAgICAgdmFyIHNwYW4gPSB0aGlzLnNwYW47CiAgICAgIGlmIChzcGFuID09PSAwKSByZXR1cm4ge307CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6ICIiLmNvbmNhdChzcGFuV2lkdGggKiBwYXJzZUludChzcGFuICsgJycpLCAiJSIpCiAgICAgIH07CiAgICB9LAogICAgZmllbGQ6IGZ1bmN0aW9uIGZpZWxkKCkgewogICAgICByZXR1cm4gdGhpcy4kY2hpbGRyZW5bMF07CiAgICB9LAogICAgZmllbGRWYWx1ZTogZnVuY3Rpb24gZmllbGRWYWx1ZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuZmllbGQgJiYgdGhpcy5maWVsZC52YWx1ZTsKICAgIH0sCiAgICByZXF1aXJlZDogZnVuY3Rpb24gcmVxdWlyZWQoKSB7CiAgICAgIHZhciBydWxlcyA9IHRoaXMucnVsZXM7CgogICAgICBpZiAocnVsZXMgJiYgcnVsZXMubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihydWxlcyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHJ1bGUgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgaWYgKHJ1bGUucmVxdWlyZWQpIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLm9sZFZhbHVlID0gdGhpcy5maWVsZFZhbHVlOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9sZFZhbHVlOiBudWxsLAogICAgICBjaGVja2VkOiB7CiAgICAgICAgc3RhdGU6ICcnLAogICAgICAgIG1lc3NhZ2U6ICcnCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoKSB7CiAgICAgIHZhciBjYiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbm9vcDsKICAgICAgdmFyIHJ1bGVzID0gdGhpcy5ydWxlcywKICAgICAgICAgIGZpZWxkVmFsdWUgPSB0aGlzLmZpZWxkVmFsdWUsCiAgICAgICAgICBjaGVja2VkID0gdGhpcy5jaGVja2VkOwogICAgICB2YXIgbmFtZSA9IHRoaXMubGFiZWwgfHwgdGhpcy5uYW1lOwogICAgICB2YXIgblJ1bGVzID0gcnVsZXM7CgogICAgICBpZiAoIW5SdWxlcyB8fCBuUnVsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgY2IoKTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQoKICAgICAgdmFyIGRlc2NyaXB0b3IgPSB7fTsKICAgICAgZGVzY3JpcHRvcltuYW1lXSA9IG5SdWxlczsKICAgICAgdmFyIHZhbGlkYXRvciA9IG5ldyBBc3luY1ZhbGlkYXRvcihkZXNjcmlwdG9yKTsKICAgICAgdmFyIG1vZGVsID0ge307CiAgICAgIG1vZGVsW25hbWVdID0gZmllbGRWYWx1ZTsKICAgICAgdmFsaWRhdG9yLnZhbGlkYXRlKG1vZGVsLCB7CiAgICAgICAgZmlyc3RGaWVsZHM6IHRydWUKICAgICAgfSwgZnVuY3Rpb24gKGVycm9ycywgZmllbGRzKSB7CiAgICAgICAgY2hlY2tlZC5zdGF0ZSA9IGVycm9ycyA/ICdlcnJvcicgOiAnJzsKICAgICAgICBjaGVja2VkLm1lc3NhZ2UgPSBlcnJvcnMgPyBlcnJvcnNbMF0ubWVzc2FnZSA6ICcnOwogICAgICAgIGNiKGVycm9ycyk7CiAgICAgIH0pOwogICAgfSwKICAgIGZpZWxkVmFsdWVDaGFuZ2U6IGZ1bmN0aW9uIGZpZWxkVmFsdWVDaGFuZ2UoKSB7CiAgICAgIC8vIOWtkOe7hOS7tumAmuefpeiwg+eUqOWHveaVsAogICAgICB0aGlzLnZhbGlkYXRlKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Field.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"['field', {'inline': inline, 'disabled': disabled, 'required': required}, checked.state]\" :style=\"styleObject\">\n    <label v-if=\"label\" class=\"label\" :style=\"lableStyle\">{{ label }}</label>\n    <div :style=\"contentWrapperStyle\"><slot></slot></div>\n    <div class=\"tip\" v-if=\"showError && checked.state === 'error'\">{{ checked.message }}</div>\n  </div>\n</template>\n<script>\n  const spanWidth = 4.16666\n  const noop = () => {}\n  import AsyncValidator from 'async-validator'\n\n  export default {\n    name: 'fish-field',\n    props: {\n      label: { type: String },\n      labelWidth: { type: [Number, String], default: 'auto' },\n      labelAlign: { type: String, default: 'right' },\n      span: { type: [String, Number], default: 0 },\n      disabled: { type: Boolean, default: false },\n      inline: { type: Boolean, default: false },\n      showError: { type: Boolean, default: true },\n      name: { type: String }, // 需校验的字段名\n      rules: { type: Array } // 验证规则\n    },\n    computed: {\n      lableStyle () {\n        const { inline, labelWidth, labelAlign } = this\n        const ret = {}\n        if (inline) {\n          ret['text-align'] = labelAlign\n          if (labelWidth !== 'auto') {\n            // console.log(labelWidth, labelWidth instanceof Number)\n            if (Number.isFinite(labelWidth)) {\n              ret['width'] = `${labelWidth}%`\n            } else {\n              ret['width'] = labelWidth\n            }\n          }\n        }\n        return ret\n      },\n      contentWrapperStyle () {\n        const { inline, labelWidth } = this\n        const ret = {}\n        if (inline) {\n          if (labelWidth !== 'auto') {\n            if (Number.isFinite(labelWidth)) {\n              ret['width'] = `${100 - labelWidth}%`\n            }\n          }\n        }\n        return ret\n      },\n      styleObject () {\n        const { span } = this\n        if (span === 0) return {}\n        return {\n          width: `${spanWidth * parseInt(span + '')}%`\n        }\n      },\n      field () {\n        return this.$children[0]\n      },\n      fieldValue () {\n        return this.field && this.field.value\n      },\n      required () {\n        const { rules } = this\n        if (rules && rules.length > 0) {\n          for (let rule of rules) {\n            if (rule.required) return true\n          }\n        }\n        return false\n      }\n    },\n    mounted () {\n      this.oldValue = this.fieldValue\n    },\n    data () {\n      return {\n        oldValue: null,\n        checked: {state: '', message: ''}\n      }\n    },\n    methods: {\n      validate (cb = noop) {\n        const { rules, fieldValue, checked } = this\n        const name = this.label || this.name\n        let nRules = rules\n        if (!nRules || nRules.length === 0) {\n          cb()\n          return true\n        }\n\n        let descriptor = {}\n        descriptor[name] = nRules\n        const validator = new AsyncValidator(descriptor)\n\n        let model = {}\n        model[name] = fieldValue\n        validator.validate(model, { firstFields: true }, (errors, fields) => {\n          checked.state = errors ? 'error' : ''\n          checked.message = errors ? errors[0].message : ''\n          cb(errors)\n        })\n      },\n      fieldValueChange () { // 子组件通知调用函数\n        this.validate()\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/fish-ui/src/components"}]}