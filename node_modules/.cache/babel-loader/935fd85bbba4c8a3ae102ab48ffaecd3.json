{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\TransferPanel.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\TransferPanel.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZyb20iOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdmaXNoLXRyYW5zZmVyLXBhbmVsJywKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnaXRlbScKICAgIH0sCiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDIwMAogICAgfSwKICAgIGRyYWdnYWJsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRhdGE6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIC8vIFt7a2V5OiAnJywgbGFiZWw6ICcnLCBkaXNhYmxlZDogZmFsc2V9XQogICAgbm9EYXRhVGV4dDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdubyBkYXRhJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFsbERpc2FibGVkOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRLZXlzOiBbXSwKICAgICAgZWxlRHJhZzogbnVsbAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKG5WYWwsIG9WYWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coJzo6Om5WYWw6JywgblZhbCwgJywgb1ZhbDonLCBvVmFsKQogICAgICBpZiAoblZhbC5sZW5ndGggIT09IG9WYWwubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5zZWxlY3RlZEtleXMgPSBbXTsKCiAgICAgICAgaWYgKG5WYWwubGVuZ3RoID09PSAwIHx8IG5WYWwuZXZlcnkoZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIHJldHVybiB2LmRpc2FibGVkOwogICAgICAgIH0pKSB7CiAgICAgICAgICB0aGlzLiRyZWZzLmNoZWNrYm94LmFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgdGhpcy5hbGxEaXNhYmxlZCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuYWxsRGlzYWJsZWQgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICB0aXRsZVZpZXc6IGZ1bmN0aW9uIHRpdGxlVmlldygpIHsKICAgICAgdmFyIHR4dCA9ICcnOwoKICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRLZXlzLmxlbmd0aCA+IDApIHsKICAgICAgICB0eHQgKz0gdGhpcy5zZWxlY3RlZEtleXMubGVuZ3RoICsgJy8nOwogICAgICB9CgogICAgICByZXR1cm4gdHh0ICsgdGhpcy5kYXRhLmxlbmd0aCArICcgJyArIHRoaXMudGl0bGU7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBkcmFnU3RhcnRIYW5kbGVyOiBmdW5jdGlvbiBkcmFnU3RhcnRIYW5kbGVyKGV2dCkgewogICAgICBldnQuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7CiAgICAgIHRoaXMuZWxlRHJhZyA9IGV2dC50YXJnZXQ7CiAgICB9LAogICAgZHJhZ092ZXJIYW5kbGVyOiBmdW5jdGlvbiBkcmFnT3ZlckhhbmRsZXIoZXZ0KSB7CiAgICAgIGV2dC5kYXRhVHJhbnNmZXIuZHJvcEVmZmVjdCA9ICdtb3ZlJzsKICAgIH0sCiAgICBkcmFnRW50ZXJIYW5kbGVyOiBmdW5jdGlvbiBkcmFnRW50ZXJIYW5kbGVyKGV2dCkgey8vIGV2dC50YXJnZXQuYWRkQ2xhc3NOYW1lKCdhY3RpdmUnKQogICAgfSwKICAgIGRyYWdMZWF2ZUhhbmRsZXI6IGZ1bmN0aW9uIGRyYWdMZWF2ZUhhbmRsZXIoZXZ0KSB7Ly8gZXZ0LnRhcmdldC5yZW1vdmVDbGFzc05hbWUoJ2FjdGl2ZScpCiAgICB9LAogICAgZHJvcEhhbmRsZXI6IGZ1bmN0aW9uIGRyb3BIYW5kbGVyKGV2dCwgaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuZWxlRHJhZyAhPT0gZXZ0LnRhcmdldCkgewogICAgICAgIHZhciBvbGRJbmRleCA9IHRoaXMuZWxlRHJhZy5nZXRBdHRyaWJ1dGUoJ2RyYWctaW5kZXgnKTsKICAgICAgICB2YXIgbkRhdGEgPSBBcnJheS5mcm9tKHRoaXMuZGF0YSk7CiAgICAgICAgdmFyIHRtcCA9IG5EYXRhW29sZEluZGV4XTsKICAgICAgICBuRGF0YVtvbGRJbmRleF0gPSBuRGF0YVtpbmRleF07CiAgICAgICAgbkRhdGFbaW5kZXhdID0gdG1wOwogICAgICAgIHRoaXMuJGVtaXQoJ3Jlb3JkZXInLCBuRGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHJldHVybiBpdGVtLmtleTsKICAgICAgICB9KSk7CiAgICAgIH0KICAgIH0sCiAgICBkcmFnRW5kSGFuZGxlcjogZnVuY3Rpb24gZHJhZ0VuZEhhbmRsZXIoZXZ0KSB7fSwKICAgIGFsbENoZWNrYm94Q2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBhbGxDaGVja2JveENsaWNrSGFuZGxlcihldnQpIHsKICAgICAgdmFyIF9jYiA9IHRoaXMuJHJlZnMuY2hlY2tib3g7CiAgICAgIHRoaXMuJHJlZnMuY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjYikgewogICAgICAgIGlmICghY2IuZGlzYWJsZWQpIGNiLmFjdGl2ZSA9IF9jYi5hY3RpdmU7CiAgICAgIH0pOwogICAgICB2YXIga2V5cyA9IHRoaXMuJHJlZnMuY2hlY2tib3hlcy5maWx0ZXIoZnVuY3Rpb24gKGNiKSB7CiAgICAgICAgcmV0dXJuIGNiLmFjdGl2ZTsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChjYikgewogICAgICAgIHJldHVybiBjYi5pbmRleDsKICAgICAgfSk7CiAgICAgIHRoaXMuZW1pdENoYW5nZShrZXlzKTsKICAgIH0sCiAgICBjaGVja2JveENsaWNrSGFuZGxlcjogZnVuY3Rpb24gY2hlY2tib3hDbGlja0hhbmRsZXIoZXZ0KSB7CiAgICAgIHZhciBrZXlzID0gdGhpcy4kcmVmcy5jaGVja2JveGVzLmZpbHRlcihmdW5jdGlvbiAoY2IpIHsKICAgICAgICByZXR1cm4gY2IuYWN0aXZlOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGNiKSB7CiAgICAgICAgcmV0dXJuIGNiLmluZGV4OwogICAgICB9KTsKICAgICAgaWYgKGtleXMubGVuZ3RoID09PSB0aGlzLiRyZWZzLmNoZWNrYm94ZXMubGVuZ3RoICYmICF0aGlzLiRyZWZzLmNoZWNrYm94LmFjdGl2ZSkgdGhpcy4kcmVmcy5jaGVja2JveC5hY3RpdmUgPSB0cnVlO2Vsc2UgdGhpcy4kcmVmcy5jaGVja2JveC5hY3RpdmUgPSBmYWxzZTsKICAgICAgdGhpcy5lbWl0Q2hhbmdlKGtleXMpOwogICAgfSwKICAgIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uIGVtaXRDaGFuZ2Uoa2V5cykgewogICAgICB0aGlzLnNlbGVjdGVkS2V5cyA9IGtleXM7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGtleXMpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TransferPanel.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"panel\" :style=\"{'width': `${width}px`}\">\n    <div class=\"header\">\n      <fish-checkbox index=\"all\" @click=\"allCheckboxClickHandler\" ref=\"checkbox\" :disabled=\"allDisabled\">{{ titleView }}</fish-checkbox>\n    </div>\n    <div class=\"body\" :style=\"{'height': `${height}px`}\">\n      <template v-if=\"data && data.length > 0\">\n        <div :class=\"[`item`, {'disabled': item.disabled}]\" v-for=\"(item, index) in data\" :key=\"item.key\"\n             :draggable=\"draggable\"\n             :drag-index=\"index\"\n             @dragstart=\"dragStartHandler\"\n             @dragover.prevent=\"dragOverHandler\"\n             @dragenter.prevent=\"dragEnterHandler\"\n             @dragleave.prevent=\"dragLeaveHandler\"\n             @drop.prevent=\"dropHandler($event, index)\"\n             @dragend=\"dragEndHandler\">\n          <fish-checkbox :disabled=\"item.disabled\" :index=\"item.key\" @click=\"checkboxClickHandler\" ref=\"checkboxes\">{{ item.label }}</fish-checkbox>\n        </div>\n      </template>\n      <div class=\"item\" v-else>{{ noDataText }}</div>\n    </div>\n  </div>\n</template>\n<script>\n  export default {\n    name: 'fish-transfer-panel',\n    props: {\n      title: { type: String, default: 'item' },\n      width: { type: Number, default: 200 },\n      height: { type: Number, default: 200 },\n      draggable: { type: Boolean, default: false },\n      data: { type: Array, default: () => [] }, // [{key: '', label: '', disabled: false}]\n      noDataText: { type: String, default: 'no data' }\n    },\n    data () {\n      return {\n        allDisabled: false,\n        selectedKeys: [],\n        eleDrag: null\n      }\n    },\n    watch: {\n      data (nVal, oVal) {\n        // console.log(':::nVal:', nVal, ', oVal:', oVal)\n        if (nVal.length !== oVal.length) {\n          this.selectedKeys = []\n          if (nVal.length === 0 || nVal.every((v) => v.disabled)) {\n            this.$refs.checkbox.active = false\n            this.allDisabled = true\n          } else {\n            this.allDisabled = false\n          }\n        }\n      }\n    },\n    computed: {\n      titleView () {\n        let txt = ''\n        if (this.selectedKeys.length > 0) {\n          txt += this.selectedKeys.length + '/'\n        }\n        return txt + this.data.length + ' ' + this.title\n      }\n    },\n    methods: {\n      dragStartHandler (evt) {\n        evt.dataTransfer.effectAllowed = 'move'\n        this.eleDrag = evt.target\n      },\n      dragOverHandler (evt) {\n        evt.dataTransfer.dropEffect = 'move'\n      },\n      dragEnterHandler (evt) {\n        // evt.target.addClassName('active')\n      },\n      dragLeaveHandler (evt) {\n        // evt.target.removeClassName('active')\n      },\n      dropHandler (evt, index) {\n        if (this.eleDrag !== evt.target) {\n          const oldIndex = this.eleDrag.getAttribute('drag-index')\n          let nData = Array.from(this.data)\n          let tmp = nData[oldIndex]\n          nData[oldIndex] = nData[index]\n          nData[index] = tmp\n          this.$emit('reorder', nData.map((item) => item.key))\n        }\n      },\n      dragEndHandler (evt) {\n      },\n      allCheckboxClickHandler (evt) {\n        let _cb = this.$refs.checkbox\n        this.$refs.checkboxes.forEach((cb) => {\n          if (!cb.disabled) cb.active = _cb.active\n        })\n        let keys = this.$refs.checkboxes.filter((cb) => { return cb.active }).map((cb) => cb.index)\n        this.emitChange(keys)\n      },\n      checkboxClickHandler (evt) {\n        let keys = this.$refs.checkboxes.filter((cb) => { return cb.active }).map((cb) => cb.index)\n        if (keys.length === this.$refs.checkboxes.length && !this.$refs.checkbox.active) this.$refs.checkbox.active = true\n        else this.$refs.checkbox.active = false\n        this.emitChange(keys)\n      },\n      emitChange (keys) {\n        this.selectedKeys = keys\n        this.$emit('change', keys)\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/fish-ui/src/components"}]}