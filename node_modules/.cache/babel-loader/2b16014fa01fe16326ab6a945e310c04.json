{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Submenu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Submenu.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjbGlja291dHNpZGUgZnJvbSAnLi4vZGlyZWN0aXZlcy9jbGlja291dHNpZGUnOwpleHBvcnQgZGVmYXVsdCB7CiAgZGlyZWN0aXZlczogewogICAgY2xpY2tvdXRzaWRlOiBjbGlja291dHNpZGUKICB9LAogIG5hbWU6ICdmaXNoLXN1Ym1lbnUnLAogIHByb3BzOiB7CiAgICB0cmlnZ2VyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ2hvdmVyJwogICAgfSwKICAgIGluZGV4OiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIGluZGV4RGVsaW1pdGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJy0nCiAgICB9LAogICAgLy8gb3B0aW9uIGluZGV45YaF5a6555qE5YiG6ZqU56ymCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3ZlcnRpY2FsJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiB7fSwKICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgIHRpbWVvdXQ6IG51bGwsCiAgICAgIGFjdGl2ZTogZmFsc2UgLy8g6ZKI5a+55qC56IqC54K5IGxpCgogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuaXRlbXMgPSB7fTsKICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGVsZSkgewogICAgICBpZiAoZWxlLl9pc1Z1ZSkgX3RoaXMuaXRlbXNbZWxlLmluZGV4LnNwbGl0KF90aGlzLmluZGV4RGVsaW1pdGVyKS5wb3AoKV0gPSBlbGU7CiAgICB9KTsgLy8g6K6+572uY2hpbGRyZW4gcGFkZGluZyBsZWZ0CgogICAgaWYgKHRoaXMubW9kZSAhPT0gJ2lubGluZScpIHJldHVybjsKICAgIHRoaXMuJGNoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKGVsZSkgewogICAgICBpZiAoZWxlLiRlbC5jbGFzc05hbWUuaW5kZXhPZignc3VibWVudScpID09PSAtMSkgewogICAgICAgIHZhciBfaW5kZXhlcyA9IGVsZS5pbmRleC5zcGxpdChfdGhpcy5pbmRleERlbGltaXRlcik7CgogICAgICAgIGVsZS4kZWwuc3R5bGUucGFkZGluZ0xlZnQgPSAiIi5jb25jYXQoMC43NSAqIF9pbmRleGVzLmxlbmd0aCwgImVtIik7CiAgICAgIH0KICAgIH0pOyAvLyBzZXQgc3VidGl0bGUgcGFkZGluZyBsZWZ0CgogICAgdmFyIGluZGV4ZXMgPSB0aGlzLmluZGV4ZXM7CiAgICB0aGlzLiRyZWZzLnN1YnRpdGxlLnN0eWxlLnBhZGRpbmdMZWZ0ID0gIiIuY29uY2F0KDAuNzUgKiBpbmRleGVzLmxlbmd0aCwgImVtIik7CiAgfSwKICBjb21wdXRlZDogewogICAgaW5kZXhlczogZnVuY3Rpb24gaW5kZXhlcygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW5kZXguc3BsaXQodGhpcy5pbmRleERlbGltaXRlcik7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBtb3VzZU92ZXJIYW5kbGVyOiBmdW5jdGlvbiBtb3VzZU92ZXJIYW5kbGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKCc6Ojo6JykKICAgICAgaWYgKHRoaXMubW9kZSAhPT0gJ2lubGluZScgJiYgdGhpcy50cmlnZ2VyID09PSAnaG92ZXInKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgICAgICAgdGhpcy50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczIudmlzaWJsZSA9IHRydWU7CiAgICAgICAgfSwgMjUwKTsKICAgICAgfQogICAgfSwKICAgIG1vdXNlT3V0SGFuZGxlcjogZnVuY3Rpb24gbW91c2VPdXRIYW5kbGVyKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIGNvbnNvbGUubG9nKCc+Pj4+Pj4+Pj4+Pi4nKQogICAgICBpZiAodGhpcy5tb2RlICE9PSAnaW5saW5lJyAmJiB0aGlzLnRyaWdnZXIgPT09ICdob3ZlcicpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0KTsKICAgICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMy52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgfSwgMTUwKTsKICAgICAgfQogICAgfSwKICAgIGNsaWNrSGFuZGxlcjogZnVuY3Rpb24gY2xpY2tIYW5kbGVyKGV2dCkgewogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRyaWdnZXIsICc6OjonLCB0aGlzLm1vZGUpCiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdpbmxpbmUnKSB7CiAgICAgICAgaWYgKGV2dC50YXJnZXQucGFyZW50Tm9kZSA9PT0gdGhpcy4kcmVmcy5zdWJtZW51KSB7CiAgICAgICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlOwogICAgICAgICAgdGhpcy5hY3RpdmUgPSAhdGhpcy5hY3RpdmU7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7CiAgICAgIH0KICAgIH0sCiAgICBhd2F5SGFuZGxlcjogZnVuY3Rpb24gYXdheUhhbmRsZXIoKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdpbmxpbmUnICYmIHRoaXMudHJpZ2dlciA9PT0gJ2NsaWNrJykgewogICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Submenu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <li :class=\"['item submenu', {'active': this.active}]\"\n      @mouseover=\"mouseOverHandler\"\n      @mouseout=\"mouseOutHandler\"\n      @click=\"clickHandler\"\n      v-clickoutside=\"awayHandler\" ref=\"submenu\">\n    <div class=\"title\" ref=\"subtitle\"><slot name=\"title\"></slot></div>\n    <ul :class=\"['fish menu', this.mode]\" v-show=\"visible\"><slot></slot></ul>\n  </li>\n</template>\n<script>\n  import clickoutside from '../directives/clickoutside'\n  export default {\n    directives: { clickoutside },\n    name: 'fish-submenu',\n    props: {\n      trigger: { type: String, default: 'hover' },\n      index: { type: String },\n      indexDelimiter: { type: String, default: '-' }, // option index内容的分隔符\n      mode: { type: String, default: 'vertical' }\n    },\n    data () {\n      return {\n        items: {},\n        visible: false,\n        timeout: null,\n        active: false // 针对根节点 li\n      }\n    },\n    mounted () {\n      this.items = {}\n      this.$children.forEach((ele) => {\n        if (ele._isVue) this.items[ele.index.split(this.indexDelimiter).pop()] = ele\n      })\n      // 设置children padding left\n      if (this.mode !== 'inline') return\n      this.$children.forEach((ele) => {\n        if (ele.$el.className.indexOf('submenu') === -1) {\n          let indexes = ele.index.split(this.indexDelimiter)\n          ele.$el.style.paddingLeft = `${0.75 * (indexes.length)}em`\n        }\n      })\n      // set subtitle padding left\n      let indexes = this.indexes\n      this.$refs.subtitle.style.paddingLeft = `${0.75 * (indexes.length)}em`\n    },\n    computed: {\n      indexes () {\n        return this.index.split(this.indexDelimiter)\n      }\n    },\n    methods: {\n      mouseOverHandler () {\n        // console.log('::::')\n        if (this.mode !== 'inline' && this.trigger === 'hover') {\n          clearTimeout(this.timeout)\n          this.timeout = setTimeout(() => {\n            this.visible = true\n          }, 250)\n        }\n      },\n      mouseOutHandler () {\n        // console.log('>>>>>>>>>>>.')\n        if (this.mode !== 'inline' && this.trigger === 'hover') {\n          clearTimeout(this.timeout)\n          this.timeout = setTimeout(() => {\n            this.visible = false\n          }, 150)\n        }\n      },\n      clickHandler (evt) {\n        // console.log(this.trigger, ':::', this.mode)\n        if (this.mode === 'inline') {\n          if (evt.target.parentNode === this.$refs.submenu) {\n            this.visible = !this.visible\n            this.active = !this.active\n          }\n        } else {\n          this.visible = !this.visible\n        }\n      },\n      awayHandler () {\n        if (this.mode !== 'inline' && this.trigger === 'click') {\n          this.visible = false\n        }\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/fish-ui/src/components"}]}