{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Menu.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Menu.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnZmlzaC1tZW51JywKICBwcm9wczogewogICAgc2l6ZTogewogICAgICB0eXBlOiBTdHJpbmcKICAgIH0sCiAgICBtb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3ZlcnRpY2FsJwogICAgfSwKICAgIC8vIHZlcnRpY2FsLCBob3Jpem9udGFsLCBpbmxpbmUKICAgIGNvbXBhY3Q6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDntKflh5EKICAgIGluZGV4RGVsaW1pdGVyOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJy0nCiAgICB9LAogICAgLy8gb3B0aW9uIGluZGV45YaF5a6555qE5YiG6ZqU56ymCiAgICBkZWZhdWx0QWN0aXZlOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUl0ZW06IG51bGwsCiAgICAgIGxhc3RBY3RpdmVJbmRleDogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBjb25zb2xlLmxvZygnaXRlbXM6JywgdGhpcy5pdGVtcykKICAgIGlmICh0aGlzLmRlZmF1bHRBY3RpdmUpIHsKICAgICAgdGhpcy5zZXRBY3RpdmUodGhpcy5kZWZhdWx0QWN0aXZlKTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjbGFzc09iamVjdDogZnVuY3Rpb24gY2xhc3NPYmplY3QoKSB7CiAgICAgIHJldHVybiBbJ2Zpc2ggbWVudScsIHRoaXMubW9kZSwgdGhpcy5zaXplLCB7CiAgICAgICAgJ2NvbXBhY3QnOiB0aGlzLmNvbXBhY3QKICAgICAgfV07CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbGlja0hhbmRsZXI6IGZ1bmN0aW9uIGNsaWNrSGFuZGxlcihldnQpIHsKICAgICAgaWYgKGV2dC5pbmRleCA9PT0gdW5kZWZpbmVkKSByZXR1cm47CiAgICAgIHRoaXMuc2V0QWN0aXZlKGV2dC5pbmRleCk7CiAgICAgIHRoaXMuJGVtaXQoJ2NoYW5nZScsIGV2dC5pbmRleCk7CiAgICAgIHRoaXMuJGVtaXQoJ2NsaWNrJywgZXZ0KTsKICAgIH0sCiAgICBzZXRBY3RpdmU6IGZ1bmN0aW9uIHNldEFjdGl2ZShpbmRleCkgewogICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkgcmV0dXJuOyAvLyBjb25zb2xlLmxvZygnaW5kZXg6JywgaW5kZXgsICdsYXN0SW5kZXg6JywgdGhpcy5sYXN0QWN0aXZlSW5kZXgpCgogICAgICB2YXIgaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCk7CiAgICAgIHRoaXMubGFzdEFjdGl2ZUluZGV4ICYmIHRoaXMubGFzdEFjdGl2ZUluZGV4LnRvU3RyaW5nKCkuc3BsaXQodGhpcy5pbmRleERlbGltaXRlcikuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCdsYXN0Lmk6JywgaSwgJz4+PicsIGl0ZW1zW2ldKQogICAgICAgIHRyeSB7CiAgICAgICAgICBpdGVtc1tpXS5hY3RpdmUgPSBmYWxzZTsKICAgICAgICAgIGlmIChpdGVtc1tpXS5tb2RlID09PSAnaW5saW5lJykgaXRlbXNbaV0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgaXRlbXMgPSBpdGVtc1tpXS5pdGVtczsKICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICB9KTsKICAgICAgdGhpcy5sYXN0QWN0aXZlSW5kZXggPSBpbmRleDsKICAgICAgaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCk7CiAgICAgIGluZGV4LnRvU3RyaW5nKCkuc3BsaXQodGhpcy5pbmRleERlbGltaXRlcikuZm9yRWFjaChmdW5jdGlvbiAoaSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKCc6Ojo6Ojo6Ojo6JywgaSwgJz4+PicsIGl0ZW1zW2ldKQogICAgICAgIGlmIChpdGVtc1tpXSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBpdGVtc1tpXS5hY3RpdmUgPSB0cnVlOwogICAgICAgICAgICBpZiAoaXRlbXNbaV0ubW9kZSA9PT0gJ2lubGluZScpIGl0ZW1zW2ldLnZpc2libGUgPSB0cnVlOyAvLyBjb25zb2xlLmxvZygnc3ViJywgaXRlbXNbaV0pCgogICAgICAgICAgICBpdGVtcyA9IGl0ZW1zW2ldLml0ZW1zOwogICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEl0ZW1zOiBmdW5jdGlvbiBnZXRJdGVtcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBpdGVtcyA9IHt9OwogICAgICB0aGlzLiRjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChlbGUpIHsKICAgICAgICBpZiAoZWxlLiRvcHRpb25zLm5hbWUgPT09ICdmaXNoLW9wdGdyb3VwJykgewogICAgICAgICAgZWxlLiRjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGlmIChlLiRvcHRpb25zLm5hbWUgPT09ICdmaXNoLW9wdGlvbicpIF90aGlzLml0ZW1zW2VsZS5pbmRleF0gPSBlOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIGlmIChbJ2Zpc2gtb3B0aW9uJywgJ2Zpc2gtc3VibWVudSddLmluY2x1ZGVzKGVsZS4kb3B0aW9ucy5uYW1lKSkgewogICAgICAgICAgaXRlbXNbZWxlLmluZGV4XSA9IGVsZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gaXRlbXM7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Menu.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <ul :class=\"classObject\" @click.stop=\"clickHandler\">\n    <slot></slot>\n  </ul>\n</template>\n<script>\n  export default {\n    name: 'fish-menu',\n    props: {\n      size: { type: String },\n      mode: { type: String, default: 'vertical' }, // vertical, horizontal, inline\n      compact: { type: Boolean, default: false }, // 紧凑\n      indexDelimiter: { type: String, default: '-' }, // option index内容的分隔符\n      defaultActive: { type: String }\n    },\n    data () {\n      return {\n        activeItem: null,\n        lastActiveIndex: null\n      }\n    },\n    mounted () {\n      // console.log('items:', this.items)\n      if (this.defaultActive) {\n        this.setActive(this.defaultActive)\n      }\n    },\n    computed: {\n      classObject () {\n        return [\n          'fish menu',\n          this.mode,\n          this.size,\n          {'compact': this.compact}\n        ]\n      }\n    },\n    methods: {\n      clickHandler (evt) {\n        if (evt.index === undefined) return\n        this.setActive(evt.index)\n        this.$emit('change', evt.index)\n        this.$emit('click', evt)\n      },\n      setActive (index) {\n        if (index === undefined) return\n        // console.log('index:', index, 'lastIndex:', this.lastActiveIndex)\n        let items = this.getItems()\n        this.lastActiveIndex && this.lastActiveIndex.toString().split(this.indexDelimiter).forEach((i) => {\n          // console.log('last.i:', i, '>>>', items[i])\n          try {\n            items[i].active = false\n            if (items[i].mode === 'inline') items[i].visible = false\n            items = items[i].items\n          } catch (e) {}\n        })\n\n        this.lastActiveIndex = index\n        items = this.getItems()\n        index.toString().split(this.indexDelimiter).forEach((i) => {\n          // console.log('::::::::::', i, '>>>', items[i])\n          if (items[i] !== undefined) {\n            try {\n              items[i].active = true\n              if (items[i].mode === 'inline') items[i].visible = true\n              // console.log('sub', items[i])\n              items = items[i].items\n            } catch (e) {}\n          }\n        })\n      },\n      getItems () {\n        const items = {}\n        this.$children.forEach((ele) => {\n          if (ele.$options.name === 'fish-optgroup') {\n            ele.$children.forEach((e) => {\n              if (e.$options.name === 'fish-option') this.items[ele.index] = e\n            })\n          } else if (['fish-option', 'fish-submenu'].includes(ele.$options.name)) {\n            items[ele.index] = ele\n          }\n        })\n        return items\n      }\n    }\n\n  }\n</script>\n"],"sourceRoot":"node_modules/fish-ui/src/components"}]}