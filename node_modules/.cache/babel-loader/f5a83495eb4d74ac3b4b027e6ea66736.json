{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\TableBody.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\TableBody.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIgZnJvbSAiQzovVXNlcnMvdXNlci9EZXNrdG9wL3Z1ZS9zaXRlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGZpc2hDaGVja2JveCBmcm9tICcuL0NoZWNrYm94LnZ1ZSc7CmltcG9ydCBDb250ZW50UmVuZGVyIGZyb20gJy4vQ29udGVudFJlbmRlci52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgQ29udGVudFJlbmRlcjogQ29udGVudFJlbmRlciwKICAgIGZpc2hDaGVja2JveDogZmlzaENoZWNrYm94CiAgfSwKICBuYW1lOiAnZmlzaC10YWJsZS1ib2R5JywKICBwcm9wczogewogICAgY29sdW1uczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICByb3dzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGV4cGFuZEljb246IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnZmEgZmEtYW5nbGUtcmlnaHQnCiAgICB9LAogICAgZXhwYW5kZWRSb3dSZW5kZXI6IHsKICAgICAgdHlwZTogRnVuY3Rpb24sCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZAogICAgfSwKICAgIC8vIOayoeaciWZpeGVk5YiX77yM5pa55Y+v5bGV5byA6K+m5oOFCiAgICBzY3JvbGxZOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgY291bnRpbmc6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDmmK/lkKbmnInnu5/orqHooYwKICAgIG5vTW9yZVRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZXhwYW5kczogW10KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgcm93czogZnVuY3Rpb24gcm93cyhuVmFsLCBvVmFsKSB7CiAgICAgIHRoaXMuZXhwYW5kcyA9IG5WYWwubWFwKGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaXRlbVZhbHVlOiBmdW5jdGlvbiBpdGVtVmFsdWUoaXRlbSwgX3JlZikgewogICAgICB2YXIga2V5ID0gX3JlZi5rZXk7CiAgICAgIHZhciB2ID0gaXRlbTsKCiAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihrZXkuc3BsaXQoJyMnKSksCiAgICAgICAgICBfc3RlcDsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBrID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICBpZiAodltrXSkgdiA9IHZba107ZWxzZSByZXR1cm4gJyc7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiB2OwogICAgfSwKICAgIHRyQ2xpY2s6IGZ1bmN0aW9uIHRyQ2xpY2soaXRlbSwgckluZGV4KSB7CiAgICAgIGlmICh0aGlzLmhhc0NvdW50aW5nKHJJbmRleCkpIHJldHVybjsKICAgICAgdGhpcy4kZW1pdCgndHItY2xpY2snLCBpdGVtLCBySW5kZXgpOwogICAgfSwKICAgIGNoZWNrYm94U2VsZWN0SGFuZGxlcjogZnVuY3Rpb24gY2hlY2tib3hTZWxlY3RIYW5kbGVyKGV2dCkgewogICAgICB0aGlzLiRlbWl0KCdzZWxlY3QnLCBldnQsIHRoaXMpOwogICAgfSwKICAgIGV4cGFuZEhhbmRsZXI6IGZ1bmN0aW9uIGV4cGFuZEhhbmRsZXIocm93SW5kZXgpIHsKICAgICAgdGhpcy5leHBhbmRzLnNwbGljZShyb3dJbmRleCwgMSwgIXRoaXMuZXhwYW5kc1tyb3dJbmRleF0pOwogICAgfSwKICAgIGhhc0NvdW50aW5nOiBmdW5jdGlvbiBoYXNDb3VudGluZyhySW5kZXgpIHsKICAgICAgcmV0dXJuIHRoaXMuY291bnRpbmcgPT09IHRydWUgJiYgckluZGV4ID09PSAwOwogICAgfQogIH0KfTs="},{"version":3,"sources":["TableBody.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,OAAA,YAAA,MAAA,gBAAA;AACA,OAAA,aAAA,MAAA,qBAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,aAAA,EAAA,aADA;AAEA,IAAA,YAAA,EAAA;AAFA,GADA;AAIA,EAAA,IAAA,EAAA,iBAJA;AAKA,EAAA,KAAA,EAAA;AACA,IAAA,OAAA,EAAA;AAAA,MAAA,IAAA,EAAA,KAAA;AAAA,MAAA,QAAA,EAAA;AAAA,KADA;AAEA,IAAA,IAAA,EAAA;AAAA,MAAA,IAAA,EAAA,KAAA;AAAA,MAAA,QAAA,EAAA;AAAA,KAFA;AAGA,IAAA,UAAA,EAAA;AAAA,MAAA,IAAA,EAAA,MAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAHA;AAIA,IAAA,iBAAA,EAAA;AAAA,MAAA,IAAA,EAAA,QAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KAJA;AAIA;AACA,IAAA,OAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KALA;AAMA,IAAA,QAAA,EAAA;AAAA,MAAA,IAAA,EAAA,OAAA;AAAA,MAAA,OAAA,EAAA;AAAA,KANA;AAMA;AACA,IAAA,UAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA;AAPA,GALA;AAcA,EAAA,IAdA,kBAcA;AACA,WAAA;AACA,MAAA,OAAA,EAAA;AADA,KAAA;AAGA,GAlBA;AAmBA,EAAA,KAAA,EAAA;AACA,IAAA,IADA,gBACA,IADA,EACA,IADA,EACA;AACA,WAAA,OAAA,GAAA,IAAA,CAAA,GAAA,CAAA,UAAA,GAAA;AAAA,eAAA,KAAA;AAAA,OAAA,CAAA;AACA;AAHA,GAnBA;AAwBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,qBACA,IADA,QACA;AAAA,UAAA,GAAA,QAAA,GAAA;AACA,UAAA,CAAA,GAAA,IAAA;;AADA,iDAEA,GAAA,CAAA,KAAA,CAAA,GAAA,CAFA;AAAA;;AAAA;AAEA,4DAAA;AAAA,cAAA,CAAA;AACA,cAAA,CAAA,CAAA,CAAA,CAAA,EAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KACA,OAAA,EAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;;AAMA,aAAA,CAAA;AACA,KARA;AASA,IAAA,OATA,mBASA,IATA,EASA,MATA,EASA;AACA,UAAA,KAAA,WAAA,CAAA,MAAA,CAAA,EAAA;AACA,WAAA,KAAA,CAAA,UAAA,EAAA,IAAA,EAAA,MAAA;AACA,KAZA;AAaA,IAAA,qBAbA,iCAaA,GAbA,EAaA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,GAAA,EAAA,IAAA;AACA,KAfA;AAgBA,IAAA,aAhBA,yBAgBA,QAhBA,EAgBA;AACA,WAAA,OAAA,CAAA,MAAA,CAAA,QAAA,EAAA,CAAA,EAAA,CAAA,KAAA,OAAA,CAAA,QAAA,CAAA;AACA,KAlBA;AAmBA,IAAA,WAnBA,uBAmBA,MAnBA,EAmBA;AACA,aAAA,KAAA,QAAA,KAAA,IAAA,IAAA,MAAA,KAAA,CAAA;AACA;AArBA;AAxBA,CAAA","sourcesContent":["<template>\n  <table>\n    <colgroup>\n      <col v-if=\"rows.length > 0 && expandedRowRender\" width=\"40\"/>\n      <col v-for=\"column in columns\" :width=\"column.width\" :key=\"column.key\"/>\n    </colgroup>\n    <tbody>\n    <template v-for=\"(item, rowIndex) in rows\">\n      <tr :key=\"rowIndex\" @click=\"trClick(item, rowIndex)\" :class=\"hasCounting(rowIndex) ? 'count' : ''\">\n        <td v-if=\"expandedRowRender\" style=\"text-align: center;\"><i :class=\"expandIcon\" @click.stop=\"expandHandler(rowIndex)\"></i></td>\n        <td v-for=\"column in columns\" :style=\"{'text-align': column.align || 'left'}\" :key=\"column.key\">\n          <div v-if=\"'index' === column.type\">{{ hasCounting(rowIndex) ? '' : (rowIndex + 1) }}</div>\n          <div v-else-if=\"'checkbox' === column.type\">\n            <fish-checkbox :index=\"rowIndex\" @click=\"checkboxSelectHandler\" ref=\"checkboxes\" v-if=\"!hasCounting(rowIndex)\"></fish-checkbox>\n          </div>\n          <content-render :render=\"column.render || ((h, item, column, rowIndex) => h('div', itemValue(item, column)))\" :params=\"[item, column, rowIndex]\" v-else></content-render>\n        </td>\n      </tr>\n      <tr :key=\"rowIndex\" v-if=\"expandedRowRender && expands[rowIndex]\">\n        <td :colspan=\"columns.length + 1\">\n          <content-render :render=\"expandedRowRender\" :params=\"[item]\"></content-render>\n        </td>\n      </tr>\n    </template>\n    <tr v-if=\"rows.length <= 0 && noMoreText\">\n      <td class=\"no-more\" :colspan=\"columns.length\">{{ noMoreText }}</td>\n    </tr>\n    </tbody>\n  </table>\n</template>\n<script>\n  import fishCheckbox from './Checkbox.vue'\n  import ContentRender from './ContentRender.vue'\n\n  export default {\n    components: {\n      ContentRender,\n      fishCheckbox},\n    name: 'fish-table-body',\n    props: {\n      columns: { type: Array, required: true },\n      rows: { type: Array, required: true },\n      expandIcon: { type: String, default: 'fa fa-angle-right' },\n      expandedRowRender: { type: Function, default: undefined }, // 没有fixed列，方可展开详情\n      scrollY: { type: Boolean, default: false },\n      counting: { type: Boolean, default: false }, // 是否有统计行\n      noMoreText: { type: String }\n    },\n    data () {\n      return {\n        expands: []\n      }\n    },\n    watch: {\n      rows (nVal, oVal) {\n        this.expands = nVal.map((row) => false)\n      }\n    },\n    methods: {\n      itemValue (item, { key }) {\n        let v = item\n        for (const k of key.split('#')) {\n          if (v[k]) v = v[k]\n          else return ''\n        }\n        return v\n      },\n      trClick (item, rIndex) {\n        if (this.hasCounting(rIndex)) return\n        this.$emit('tr-click', item, rIndex)\n      },\n      checkboxSelectHandler (evt) {\n        this.$emit('select', evt, this)\n      },\n      expandHandler (rowIndex) {\n        this.expands.splice(rowIndex, 1, !this.expands[rowIndex])\n      },\n      hasCounting (rIndex) {\n        return this.counting === true && rIndex === 0\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/fish-ui/src/components"}]}