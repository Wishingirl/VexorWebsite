{"remainingRequest":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Cascader.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\fish-ui\\src\\components\\Cascader.vue","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\user\\Desktop\\vue\\site\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBjbGlja291dHNpZGUgZnJvbSAnLi4vZGlyZWN0aXZlcy9jbGlja291dHNpZGUnOwppbXBvcnQgeyBub3RpZnkgfSBmcm9tICcuLi9jb25maWcnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2Zpc2gtY2FzY2FkZXInLAogIGRpcmVjdGl2ZXM6IHsKICAgIGNsaWNrb3V0c2lkZTogY2xpY2tvdXRzaWRlCiAgfSwKICBwcm9wczogewogICAgdmFsdWU6IEFycmF5LAogICAgdGV4dERlbGltaXRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICcgLyAnCiAgICB9LAogICAgbWVudVdpZHRoOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMTYwCiAgICB9LAogICAgaGludDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdQbGVhc2Ugc2VsZWN0JwogICAgfSwKICAgIG9wdGlvbnM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9IC8vIFtba2V5LCBsYWJlbCwgY2hpbGRyZW5dXQoKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93Q2xlYXI6IGZhbHNlLAogICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgZ3JvdXBzOiBbdGhpcy5vcHRpb25zXSwKICAgICAgc2VsZWN0ZWRJdGVtczogW10sCiAgICAgIHNlbGVjdGVkVGV4dDogJycKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gdGhpcy5wYXJzZVNlbGVjdGVkSXRlbXMoKTsKICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gdGhpcy5zZWxlY3RlZEl0ZW1zLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgIHJldHVybiBlbGVbMV07CiAgICB9KS5qb2luKHRoaXMudGV4dERlbGltaXRlcik7CiAgfSwKICBjb21wdXRlZDogewogICAgdmFsdWVFbXB0eTogZnVuY3Rpb24gdmFsdWVFbXB0eSgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUubGVuZ3RoID09PSAwOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xlYXJIYW5kbGVyOiBmdW5jdGlvbiBjbGVhckhhbmRsZXIoKSB7CiAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gbnVsbDsKICAgICAgdGhpcy5zZWxlY3RlZEl0ZW1zID0gW107CiAgICAgIHRoaXMuZ3JvdXBzID0gW3RoaXMub3B0aW9uc107CiAgICAgIHRoaXMuZW1pdENoYW5nZShbXSk7CiAgICB9LAogICAgbW91c2VPdmVySGFuZGxlcjogZnVuY3Rpb24gbW91c2VPdmVySGFuZGxlcigpIHsKICAgICAgdGhpcy5zaG93Q2xlYXIgPSB0cnVlOwogICAgfSwKICAgIG1vdXNlT3V0SGFuZGxlcjogZnVuY3Rpb24gbW91c2VPdXRIYW5kbGVyKCkgewogICAgICB0aGlzLnNob3dDbGVhciA9IGZhbHNlOwogICAgfSwKICAgIG1lbnVDbGlja0hhbmRsZXI6IGZ1bmN0aW9uIG1lbnVDbGlja0hhbmRsZXIoZXZ0KSB7CiAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7CiAgICB9LAogICAgYXdheUhhbmRsZXI6IGZ1bmN0aW9uIGF3YXlIYW5kbGVyKCkgewogICAgICB0aGlzLnZpc2libGUgPSBmYWxzZTsKICAgIH0sCiAgICBpdGVtQ2xpY2tIYW5kbGVyOiBmdW5jdGlvbiBpdGVtQ2xpY2tIYW5kbGVyKGl0ZW0sIGdyb3VwSW5kZXgpIHsKICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5pdGVtQ2hpbGRyZW4oaXRlbSk7CiAgICAgIHZhciBob3dNYW55ID0gdGhpcy5zZWxlY3RlZEl0ZW1zLmxlbmd0aCAtIGdyb3VwSW5kZXg7CiAgICAgIHRoaXMuc2VsZWN0ZWRJdGVtcy5zcGxpY2UoZ3JvdXBJbmRleCwgaG93TWFueSwgaXRlbSk7IC8vIGNvbnNvbGUubG9nKCdhZnRlcjonLCB0aGlzLnNlbGVjdGVkSXRlbXMpCgogICAgICBpZiAoY2hpbGRyZW4ubGVuZ3RoID4gMCkgewogICAgICAgIHZhciBncm91cEhvd01hbnkgPSB0aGlzLmdyb3Vwcy5sZW5ndGggLSBncm91cEluZGV4OwogICAgICAgIHRoaXMuZ3JvdXBzLnNwbGljZShncm91cEluZGV4ICsgMSwgZ3JvdXBIb3dNYW55LCBjaGlsZHJlbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hd2F5SGFuZGxlcigpOwogICAgICAgIHRoaXMuc2VsZWN0ZWRUZXh0ID0gdGhpcy5zZWxlY3RlZEl0ZW1zLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICByZXR1cm4gZWxlWzFdOwogICAgICAgIH0pLmpvaW4odGhpcy50ZXh0RGVsaW1pdGVyKTsKICAgICAgICB0aGlzLmVtaXRDaGFuZ2UodGhpcy5zZWxlY3RlZEl0ZW1zLm1hcChmdW5jdGlvbiAoZWxlKSB7CiAgICAgICAgICByZXR1cm4gZWxlWzBdOwogICAgICAgIH0pKTsKICAgICAgfQogICAgfSwKICAgIGVtaXRDaGFuZ2U6IGZ1bmN0aW9uIGVtaXRDaGFuZ2UodmFsdWVzKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsdWVzKTsKICAgICAgdGhpcy4kZW1pdCgnY2hhbmdlJywgdmFsdWVzKTsKICAgICAgbm90aWZ5LmZpZWxkLmNoYW5nZSh0aGlzKTsKICAgIH0sCiAgICBpdGVtQ2hpbGRyZW46IGZ1bmN0aW9uIGl0ZW1DaGlsZHJlbihpdGVtKSB7CiAgICAgIGlmIChpdGVtLmxlbmd0aCA+IDIpIHsKICAgICAgICByZXR1cm4gaXRlbVtpdGVtLmxlbmd0aCAtIDFdOwogICAgICB9CgogICAgICByZXR1cm4gW107CiAgICB9LAogICAgcGFyc2VTZWxlY3RlZEl0ZW1zOiBmdW5jdGlvbiBwYXJzZVNlbGVjdGVkSXRlbXMoKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKCc+Pj4+OicsIHRoaXMudmFsdWUpCiAgICAgIHZhciByZXQgPSBbXTsKICAgICAgaWYgKHRoaXMudmFsdWVFbXB0eSkgcmV0dXJuIHJldDsKICAgICAgdmFyIG9zID0gdGhpcy5vcHRpb25zOwogICAgICB2YXIgdkluZGV4ID0gMDsKCiAgICAgIHdoaWxlIChvcyAmJiBvcy5sZW5ndGggPiAwKSB7CiAgICAgICAgZm9yICh2YXIgZWxlIGluIG9zKSB7CiAgICAgICAgICBpZiAodGhpcy52YWx1ZVt2SW5kZXhdID09PSBlbGVbMF0pIHsKICAgICAgICAgICAgcmV0LnB1c2goZWxlKTsKICAgICAgICAgICAgb3MgPSB0aGlzLml0ZW1DaGlsZHJlbihlbGUpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHZJbmRleCsrOwogICAgICAgIGlmICh2SW5kZXggPiAxMCkgcmV0dXJuIFtdOwogICAgICB9CgogICAgICByZXR1cm4gcmV0OwogICAgfQogIH0KfTs="},{"version":3,"sources":["Cascader.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div :class=\"['fish select cascader', {'active': visible}]\"\n       @click=\"menuClickHandler($event)\"\n       @mouseover=\"mouseOverHandler\"\n       @mouseout=\"mouseOutHandler\"\n       v-clickoutside=\"awayHandler\">\n    <i class=\"fa fa-times-circle\" v-if=\"showClear && !valueEmpty\" style=\"opacity: .6;\" @click.stop=\"clearHandler\"></i>\n    <i class=\"fa fa-angle-down\" v-else></i>\n    <div :class=\"['text', {'hint': valueEmpty}]\">\n      {{ selectedText || hint }}\n    </div>\n    <div v-show=\"visible\" class=\"content\" :style=\"{width: `${(menuWidth + 2) * groups.length + 15 * groups.length}px`}\"\n         @click.stop=\"\" @mouseover.stop=\"\" @mouseout.stop=\"\">\n      <ul class=\"fish menu vertical\" v-for=\"(group, groupIndex) in groups\">\n        <li :class=\"['item', {'active': selectedItems[groupIndex] && selectedItems[groupIndex][0] === item[0], 'submenu': itemChildren(item).length > 0}]\"\n            v-for=\"(item, index) in group\" @click.stop=\"itemClickHandler(item, groupIndex)\" :key=\"item[0]\" :style=\"{width: `${menuWidth}px`}\">\n          {{ item[1] }}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script>\n  import clickoutside from '../directives/clickoutside'\n  import { notify } from '../config'\n  export default {\n    name: 'fish-cascader',\n    directives: { clickoutside },\n    props: {\n      value: Array,\n      textDelimiter: { type: String, default: ' / ' },\n      menuWidth: { type: Number, default: 160 },\n      hint: { type: String, default: 'Please select' },\n      options: { type: Array, required: true } // [[key, label, children]]\n    },\n    data () {\n      return {\n        showClear: false,\n        visible: false,\n        groups: [this.options],\n        selectedItems: [],\n        selectedText: ''\n      }\n    },\n    mounted () {\n      this.selectedItems = this.parseSelectedItems()\n      this.selectedText = this.selectedItems.map((ele) => ele[1]).join(this.textDelimiter)\n    },\n    computed: {\n      valueEmpty () {\n        return this.value.length === 0\n      }\n    },\n    methods: {\n      clearHandler () {\n        this.selectedText = null\n        this.selectedItems = []\n        this.groups = [this.options]\n        this.emitChange([])\n      },\n      mouseOverHandler () {\n        this.showClear = true\n      },\n      mouseOutHandler () {\n        this.showClear = false\n      },\n      menuClickHandler (evt) {\n        this.visible = !this.visible\n      },\n      awayHandler () {\n        this.visible = false\n      },\n      itemClickHandler (item, groupIndex) {\n        let children = this.itemChildren(item)\n        let howMany = this.selectedItems.length - groupIndex\n        this.selectedItems.splice(groupIndex, howMany, item)\n        // console.log('after:', this.selectedItems)\n        if (children.length > 0) {\n          let groupHowMany = this.groups.length - groupIndex\n          this.groups.splice(groupIndex + 1, groupHowMany, children)\n        } else {\n          this.awayHandler()\n          this.selectedText = this.selectedItems.map((ele) => ele[1]).join(this.textDelimiter)\n          this.emitChange(this.selectedItems.map((ele) => ele[0]))\n        }\n      },\n      emitChange (values) {\n        this.$emit('input', values)\n        this.$emit('change', values)\n        notify.field.change(this)\n      },\n      itemChildren (item) {\n        if (item.length > 2) {\n          return item[item.length - 1]\n        }\n        return []\n      },\n      parseSelectedItems () {\n        // console.log('>>>>:', this.value)\n        let ret = []\n        if (this.valueEmpty) return ret\n        let os = this.options\n        let vIndex = 0\n        while (os && os.length > 0) {\n          for (let ele in os) {\n            if (this.value[vIndex] === ele[0]) {\n              ret.push(ele)\n              os = this.itemChildren(ele)\n              break\n            }\n          }\n          vIndex++\n          if (vIndex > 10) return []\n        }\n        return ret\n      }\n    }\n  }\n</script>\n"],"sourceRoot":"node_modules/fish-ui/src/components"}]}